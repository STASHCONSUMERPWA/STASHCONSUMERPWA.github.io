webpackJsonp([1],{"/QwG":function(t,e){},"9jAP":function(t,e){},CBug:function(t,e){},G0lJ:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),o=s("WQHf"),a=s("eFvv"),n=s.n(a),i=s("IZMb"),c=s.n(i),l=s("OjAt"),u=s.n(l),m=s("AYPi"),d=s.n(m),v=s("A5Ul"),h=s.n(v),p=s("3It0"),_=s("Dd8w"),f=s.n(_),g=s("NYxO"),C="auth/SET_AUTH",b="ui/overlayLoader/SWITCH",w={name:"GeneralHeader",computed:f()({},Object(g.b)(["isAuthenticated","currentCart","currentUser"]))},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-default navbar-fixed-top"},[s("div",{staticClass:"container"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[t._v("\n      STASH\n    ")]),t._v(" "),t.isAuthenticated?s("ul",{staticClass:"nav navbar-nav pull-xs-right"},[s("li",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{"active-class":"active",exact:"",to:{name:"wallet"}}},[s("i",{staticClass:"ion-cash"}),t._v("  "),s("b",[t._v(t._s(t._f("currency")(t.currentUser.wallet.value)))])])],1),t.currentCart.items.length>=1?s("li",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{"active-class":"active",exact:"",to:{name:"cart"}}},[s("b",{staticClass:"currentCart"},[s("i",{staticClass:"ion-android-cart"})])])],1):t._e()]):t._e(),t._v(" "),t.isAuthenticated?t._e():s("ul",{staticClass:"nav navbar-nav pull-xs-right"},[s("li",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{"active-class":"active",exact:"",to:{name:"login"}}},[s("i",{staticClass:"ion-cash"}),t._v("  "),s("b",[t._v("SGD 0.00")])])],1),t.currentCart.items.length>=1?s("li",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{"active-class":"active",exact:"",to:{name:"cart"}}},[s("b",{staticClass:"currentCart"},[s("i",{staticClass:"ion-android-cart"})])])],1):t._e()])],1)])},staticRenderFns:[]};var y=s("VU/8")(w,x,!1,function(t){s("vj0H")},"data-v-5c6f1ec0",null).exports,T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("footer",[e("div",{staticClass:"container"},[e("router-link",{staticClass:"logo-font",attrs:{to:{name:"home",params:{}}}},[this._v("\n        STASH™\n      ")]),this._v(" "),e("span",{staticClass:"attribution"},[this._v("\n        © 2019 STASH Technologies™. All rights reserved.\n      ")])],1)])])},staticRenderFns:[]},S=s("VU/8")({name:"GeneralFooter"},T,!1,null,null,null).exports,E=s("GVL/"),I={name:"App",components:{GeneralHeader:y,GeneralFooter:S,fab:s.n(E).a},data:function(){return{isLocationAvailable:!1,overlayLoaderShow:!0,fabMainIcon:"menu",fabBgColor:"#ffba00",fabPosition:"bottom-right",fabActions:[{name:"gotoHome",icon:"home"},{name:"gotoMessage",icon:"email"},{name:"gotoSettings",icon:"settings"},{name:"gotoCart",icon:"shopping_cart"}],fabActionsWOCart:[{name:"gotoHome",icon:"home"},{name:"gotoMessage",icon:"email"},{name:"gotoSettings",icon:"settings"}]}},mounted:function(){this.refreshContent()},computed:f()({},Object(g.b)(["currentCart"]),Object(g.c)({overlayLoader:function(t){return t.overlayLoader.overlayLoader}})),methods:{gotoWallet:function(){console.log("Fab clicked","wallet"),this.$router.push({name:"wallet"})},gotoCart:function(){console.log("Fab clicked","cart"),this.$router.push({name:"cart"})},gotoHome:function(){console.log("Fab clicked","home"),this.$router.push({name:"home"})},gotoMessage:function(){console.log("Fab clicked","inbox"),this.$router.push({name:"inbox"})},gotoSettings:function(){console.log("Fab clicked","settings"),this.$router.push({name:"settings"})},refreshContent:function(){this.isLocationAvailable=!0,this.geolocation()},geolocation:function(){navigator.geolocation.getCurrentPosition(this.buildUrl,this.geoError)},buildUrl:function(t){this.locationCoord.lat=t.coords.latitude,this.locationCoord.lon=t.coords.longitude,this.$store.commit(SET_CURRENT_LOCATION,{lat:this.locationCoord.lat,lon:this.locationCoord.lon},{root:!0})},geoError:function(t){switch(this.error=t.code,this.isLocationAvailable=!1,t.code){case t.PERMISSION_DENIED:this.error="User denied the request for Geolocation.";break;case t.POSITION_UNAVAILABLE:this.error="Location information is unavailable.";break;case t.TIMEOUT:this.error="The request to get user location timed out.";break;case t.UNKNOWN_ERROR:this.error="An unknown error occurred."}console.log(this.error)},getLocation:function(){return GeoService.getCurrentCoordinates().then(function(t){return{lat:t.latitude,long:t.longitude}}).catch(function(t){return console.log(t),null})}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("vue-element-loading",{attrs:{active:t.overlayLoader,"is-full-screen":!0,color:"#FFBA00",spinner:"spinner",size:"64"}}),t._v(" "),s("GeneralHeader"),t._v(" "),s("div",{staticClass:"container_"},[t.isOnline?t._e():s("div",{staticClass:"container"},[t._m(0),t._v(" "),t._m(1)]),t._v(" "),t.isLocationAvailable?t._e():s("div",{staticClass:"container"},[t._m(2),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("br"),t._v(" "),s("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:t.refreshContent}},[t._v("Refresh content")])])])]),t._v(" "),s("transition",{attrs:{name:"component-fade",mode:"out-in",duration:{enter:150,leave:200}}},[t.isOnline&&t.isLocationAvailable?s("router-view"):t._e()],1),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),t.currentCart.items.length>0?s("fab",{attrs:{"main-icon":t.fabMainIcon,actions:t.fabActions,position:t.fabPosition,"bg-color":t.fabBgColor},on:{gotoWallet:t.gotoWallet,gotoCart:t.gotoCart,gotoHome:t.gotoHome,gotoMessage:t.gotoMessage,gotoSettings:t.gotoSettings}}):t._e(),t._v(" "),t.currentCart.items.length<=0?s("fab",{attrs:{"main-icon":t.fabMainIcon,actions:t.fabActionsWOCart,position:t.fabPosition,"bg-color":t.fabBgColor},on:{gotoWallet:t.gotoWallet,gotoCart:t.gotoCart,gotoHome:t.gotoHome,gotoMessage:t.gotoMessage,gotoSettings:t.gotoSettings}}):t._e()],1),t._v(" "),s("GeneralFooter")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Internet not found")]),this._v(" "),e("p",[this._v("\n            Looks like we weren't able to connect to our server. Please try again in a few minutes.\n          ")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("button",{staticClass:"btn btn-lg btn-primary btn-block"},[this._v("Try again")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Location not found")]),this._v(" "),e("p",[this._v("\n            Please turn on Location Services. For the best experience, please set it to High Accuracy\n          ")]),this._v(" "),e("hr")])])}]};var O,A,U,R,P,N,$=s("VU/8")(I,k,!1,function(t){s("oVvb")},"data-v-6405891e",null).exports,M=s("/ocq"),L=s("bOdI"),D=s.n(L),F=s("//Fk"),H=s.n(F),q=s("mtWM"),V=s.n(q),G=s("Rf8U"),j=s.n(G),W=function(){return window.localStorage.getItem("id_STASH_TOKEN")},B=function(t){window.localStorage.setItem("id_STASH_TOKEN",t)},z=function(){console.log("Token destroyed"),window.localStorage.removeItem("id_STASH_TOKEN")},Y="https://api.stash.asia/v3/",Q={init:function(){r.default.use(j.a,V.a),r.default.axios.defaults.baseURL=Y,r.default.axios.defaults.headers.common["Cache-Control"]="no-cache",r.default.axios.defaults.headers.common["STASH-API-V2"]=1},setHeader:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r.default.axios.defaults.headers.common.Authorization=t?"Token "+W():""},query:function(t,e){return r.default.axios.get(t,e).catch(function(t){throw"Error: Network Error"!=t&&500!=t.response.status||alert("Looks like we weren't able to connect to our server. Please try again in a few minutes."),401==t.response.status&&alert("Please login to continue"),t.response?console.log("error response",t.response.status):t.request?console.log("error Request",t.request):console.log("error Error",t.message),t})},get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return console.log(t+"/"+e),r.default.axios.get(t,{}).catch(function(t){throw"Error: Network Error"!=t&&500!=t.response.status||alert("Looks like we weren't able to connect to our server. Please try again in a few minutes."),401==t.response.status&&alert("Please login to continue"),t.response?console.log("error response",t.response.status):t.request?console.log("error Request",t.request):console.log("error Error",t.message),t})},post:function(t,e){return r.default.axios.post(""+t,e).catch(function(t){throw"Error: Network Error"!=t&&500!=t.response.status||alert("Looks like we weren't able to connect to our server. Please try again in a few minutes."),401==t.response.status&&alert("Please login to continue"),t.response?console.log("error response",t.response.status):t.request?console.log("error Request",t.request):console.log("error Error",t.message),t})},update:function(t,e,s){return r.default.axios.put(t+"/"+e,s).catch(function(t){throw"Error: Network Error"!=t&&500!=t.response.status||alert("Looks like we weren't able to connect to our server. Please try again in a few minutes."),401==t.response.status&&alert("Please login to continue"),t.response?console.log("error response",t.response.status):t.request?console.log("error Request",t.request):console.log("error Error",t.message),t})},put:function(t,e){return r.default.axios.put(""+t,e).catch(function(t){throw"Error: Network Error"!=t&&500!=t.response.status||alert("Looks like we weren't able to connect to our server. Please try again in a few minutes."),401==t.response.status&&alert("Please login to continue"),t.response?console.log("error response",t.response.status):t.request?console.log("error Request",t.request):console.log("error Error",t.message),t})},delete:function(t){return r.default.axios.delete(t).catch(function(t){throw"Error: Network Error"!=t&&500!=t.response.status||alert("Looks like we weren't able to connect to our server. Please try again in a few minutes."),401==t.response.status&&alert("Please login to continue"),t.response?console.log("error response",t.response.status):t.request?console.log("error Request",t.request):console.log("error Error",t.message),t})}},K={state:{errors:null,user:{id:"",username:"",email:"",wallet:{ccy:"",value:0},token:"",lastTransaction:[]},isAuthenticated:!!W()},actions:(O={},D()(O,"auth/LOGIN",function(t,e){return Q.setHeader(!1),console.log("Logging user in"),new H.a(function(s){Q.post("users/login",{email:e.email,password:e.password}).then(function(e){var r=e.data;console.log("login return",r),t.commit(C,r.user),s(r)}).catch(function(){s(!1)})})}),D()(O,"auth/FORGET_PASSWORD_REQUEST",function(t,e){return Q.setHeader(!1),new H.a(function(t){Q.post("users/forgetpassword",{email:e}).then(function(e){var s=e.data;t(s)})})}),D()(O,"auth/LOGOUT",function(t){Q.setHeader(),new H.a(function(e){Q.query("users/logout",{}).then(function(s){var r=s.data;t.commit("auth/PURGE_AUTH"),e(r)})})}),D()(O,"auth/REGISTER",function(t,e){return Q.setHeader(!1),new H.a(function(t,s){Q.post("users",e).then(function(e){e.data;t(!0)})})}),D()(O,"auth/CHECK_AUTH",function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={};if(console.log("Checking auth withTransactions",e),e&&(s={withTransactions:1}),console.log("Current active session JWT",W()),console.log("Current active session JWT is undefined",void 0===W()),!W())return console.log("Active token not found"),!1;console.log("Active token found"),Q.setHeader(),new H.a(function(e){Q.query("users/checktoken",{params:s}).then(function(s){var r=s.data;console.log("auth data",r),void 0===r&&e(!1),t.commit(C,r),e(!0)}).catch(function(e){throw t.commit("auth/PURGE_AUTH"),e})})}),D()(O,"auth/UPDATE_USER",function(t,e){var s={email:e.email,username:e.username};return password&&(s.password=password),Q.put("user",s).then(function(e){var s=e.data;return t.commit(C,s.user),s})}),O),mutations:(A={},D()(A,"setError",function(t,e){t.errors=e}),D()(A,C,function(t,e){console.log("Set auth",e),t.isAuthenticated=!0,t.user=e,t.errors={},B(t.user.token)}),D()(A,"auth/PURGE_AUTH",function(t){console.log("Purging auth info"),t.isAuthenticated=!1,t.user={id:"",username:"",email:"",wallet:{ccy:"SGD",value:0},token:"",lastTransaction:[]},t.errors={},z(),Q.setHeader(!1)}),A),getters:{currentUser:function(t){return t.user},isAuthenticated:function(t){return t.isAuthenticated}}},J={state:{errors:null,currentCart:{merchant:D()({id:"",name:"",address:"",friendlyId:"",image:"",currentDiscount:0,availableCollectionMethod:0},"availableCollectionMethod",0),items:[],notes:"",promotion:{id:"",code:"",name:"",type:"",value:""},tempItem:{}}},actions:D()({},"cart/SUBMIT_CART",function(t,e){return 0}),mutations:(U={},D()(U,"cart/SET_TEMP_ITEM",function(t,e){console.log("SET_TEMP_ITEM - START -",t.currentCart),console.log("SET_TEMP_ITEM - ADDING -",e),t.currentCart.tempItem=e,console.log("temp item",t.currentCart.tempItem)}),D()(U,"cart/REMOVE_TEMP_ITEM",function(t){t.currentCart.tempItem={}}),D()(U,"cart/ADD_CUSTOM_TO_TEMP_ITEM",function(t,e){t.currentCart.tempItem.customisationApplied.push(e)}),D()(U,"cart/REMOVE_CUSTOM_FROM_TEMP_ITEM",function(t,e){for(var s=0;s<t.currentCart.tempItem.customisationApplied.length;s++)console.log(t.currentCart.tempItem.customisationApplied[s],e,t.currentCart.tempItem.customisationApplied[s]==e),t.currentCart.tempItem.customisationApplied[s]===e&&(console.log("Found similar at",s),t.currentCart.tempItem.customisationApplied.splice(s,1))}),D()(U,"cart/ADD_TO_CART",function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("ADD_TO_CART - START -",t.currentCart),e?(console.log("ADD_TO_CART - ADDING - item param supplied",e),t.currentCart.items.push(e)):(console.log("ADD_TO_CART - ADDING - item param not supplied taking tempItem",t.currentCart.tempItem),console.log("ADD_TO_CART - ADDING -",t.currentCart.tempItem),t.currentCart.items.push(t.currentCart.tempItem)),t.currentCart.tempItem={},console.log("ADD_TO_CART - END -",t.currentCart)}),D()(U,"cart/REMOVE_FROM_CART",function(t,e){t.currentCart.items.splice(e,1),t.errors={}}),D()(U,"cart/NEW_CART",function(t,e){t.currentCart={merchant:e,items:[],notes:"",tempItem:{}},console.log("currentCart",t.currentCart)}),D()(U,"cart/RESET_CART",function(t){t.currentCart={merchant:t.currentCart.merchant,items:[],notes:"",tempItem:{}},console.log("currentCart",t.currentCart)}),U),getters:{currentCart:function(t){return t.currentCart},tempItem:function(t){return t.currentCart.tempItem}}},X=s("Xxa5"),Z=s.n(X),tt=s("exGp"),et=s.n(tt),st=function(t,e){return Q.query("home/aroundme",{params:e})},rt=function(t){return Q.query("merchants",{params:{id:t}})},ot={state:f()({},{merchant:null}),actions:D()({},"merchant/FETCH_MERCHANT",function(t,e){var s=this;return et()(Z.a.mark(function r(){var o,a;return Z.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,rt(e);case 2:return o=s.sent,a=o.data,t.commit("home/SET_MERCHANT",a.merchant),s.abrupt("return",a);case 6:case"end":return s.stop()}},r,s)}))()}),mutations:(R={},D()(R,"home/SET_MERCHANT",function(t,e){for(var s=e,r=0;r<s.menu.length;r++)for(var o=0;o<s.menu[r].menuList.length;o++)s.menu[r].isSelected=!1;t.merchant=s}),D()(R,"merchant/SET_PERSISTENT_EXPANDED_MENU_CATEGORY",function(t,e){for(var s=0;s<t.merchant.menu.length;s++)for(var r=0;r<t.merchant.menu[s].menuList.length;r++)if(t.merchant.menu[s].name==e)return void(t.merchant.menu[s].isSelected=!t.merchant.menu[s].isSelected)}),R),getters:{merchant:function(t){return t.merchant}}},at=f()({},{merchants:[],isLoadingMerchant:!0,coordinate:{lat:null,lon:null}}),nt=D()({},"merchant/FETCH_MERCHANTS",function(t){var e=this;return et()(Z.a.mark(function s(){var r,o;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st("",{lat:at.coordinate.lat,lng:at.coordinate.lon});case 2:return r=e.sent,o=r.data,t.commit("home/FETCH_MERCHANTS_END",o.merchants),e.abrupt("return",o);case 6:case"end":return e.stop()}},s,e)}))()}),it=(P={},D()(P,"home/FETCH_MERCHANTS_END",function(t,e){t.merchants=e,t.isLoadingMerchant=!1}),D()(P,"home/SET_CURRENT_LOCATION",function(t,e){t.coordinate={lat:e.lat,lon:e.lon}}),P),ct={state:at,actions:nt,mutations:it,getters:{merchants:function(t){return t.merchants},isLoadingMerchant:function(t){return t.isLoadingMerchant}}},lt={query:function(t,e){return console.log("params",e),Q.query("orders",{params:e})},create:function(t){return Q.post("orders/create",t)},get:function(t){return Q.query("orders",{params:{orderId:t}})},update:function(t,e){return Q.update("orders",t,{order:e})}},ut=(s("o/zv"),{currentOrderDetails:{}}),mt=D()({},"order/FETCH_ORDER_DETAILS",function(t,e){var s=this;return et()(Z.a.mark(function r(){var o,a;return Z.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,lt.get(e);case 2:o=s.sent,(a=o.data).order.orderId=e,t.commit("order/SET_CURRENT_ORDER_DETAILS",a.order);case 6:case"end":return s.stop()}},r,s)}))()}),dt={currentOrderDetails:function(){return ut.currentOrderDetails},orderIdSplit:function(){var t=ut.currentOrderDetails.orderId.split("-"),e=t[0];return t.shift(),[e,t.join("-")]},orderQR:function(){return"https://chart.googleapis.com/chart?cht=qr&chs=200x200&chld=H|1&choe=UTF-8&chl="+ut.currentOrderDetails.orderId},hasOrder:function(){return ut.currentOrderDetails.hasOwnProperty("orderId")}},vt=D()({},"order/SET_CURRENT_ORDER_DETAILS",function(t,e){t.currentOrderDetails=e,console.log("SET_CURRENT_ORDER_DETAILS",e)}),ht={state:ut,actions:mt,mutations:vt,getters:dt},pt={state:{overlayLoader:!1},actions:{},mutations:(N={},D()(N,"ui/overlayLoader/SET_ON",function(t){t.overlayLoader=!0}),D()(N,"ui/overlayLoader/SET_OFF",function(t){t.overlayLoader=!1}),D()(N,b,function(t){console.log("Switching overlay current state",t.overlayLoader),t.overlayLoader=!t.overlayLoader,console.log("Switching overlay updated state",t.overlayLoader)}),N),getters:{}};r.default.use(g.a);var _t=new g.a.Store({modules:{auth:K,cart:J,merchant:ot,home:ct,order:ht,overlayLoader:pt}}),ft={name:"viewLogin",data:function(){return{email:null,password:null,isFacebookLogin:!1,isGoogleLogin:!1}},methods:{onSubmit:function(){var t=this;this.$store.commit(b,{root:!0}),this.$store.dispatch("auth/LOGIN",{email:this.email,password:this.password}).then(function(e){console.log("dispatched login",e),t.$store.commit(b,{root:!0}),e?t.$router.push({name:"home"}):alert("No account found, please sign up for an account")})},switchFbLoginForm:function(){this.isFacebookLogin=!this.isFacebookLogin},switchGoogleLoginForm:function(){this.isGoogleLogin=!this.isGoogleLogin}},computed:f()({},Object(g.c)({errors:function(t){return t.auth.errors}}))},gt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[t.isFacebookLogin?t._e():s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("h1",{staticClass:"text-xs-left"},[t._v("Sign in")]),t._v(" "),s("p",{staticClass:"text-xs-left"},[s("router-link",{attrs:{to:{name:"register"}}},[t._v("\n            Need an account?\n          ")])],1),t._v(" "),t.errors?s("ul",{staticClass:"error-messages"},t._l(t.errors,function(e,r){return s("li",{key:r},[t._v(t._s(r)+" "+t._s(t._f("error")(e)))])}),0):t._e(),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.email,t.password)}}},[s("fieldset",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),s("fieldset",{staticClass:"form-group"},[s("input",{directives:[{name:"ripple",rawName:"v-ripple"},{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),s("fieldset",{staticClass:"form-group"},[s("router-link",{attrs:{to:{name:"forget_password",params:{}}}},[t._v("\n              or click here to reset password\n            ")])],1)])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("button",{staticClass:"btn btn-lg btn-block btn-primary",on:{click:function(e){return t.onSubmit()}}},[t._v("\n          Sign in\n        ")]),t._v(" "),s("br")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("button",{staticClass:"btn btn-lg btn-block btn-primary googleLoginButton",on:{click:function(e){return t.switchFbLoginForm()}}},[t._v("\n          Google Login\n        ")]),t._v(" "),s("br")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("button",{staticClass:"btn btn-lg btn-block btn-primary fbLoginButton",on:{click:function(e){return t.switchFbLoginForm()}}},[t._v("\n          Facebook Login\n        ")])])])]),t._v(" "),t.isFacebookLogin?s("div",{staticClass:"container"},[t._m(0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-6"},[s("br"),t._v(" "),s("button",{staticClass:"btn btn-lg btn-primary",on:{click:function(e){return t.switchFbLoginForm()}}},[t._v("Back to login page")])]),t._v(" "),s("div",{staticClass:"col-xs-6"},[s("br"),t._v(" "),s("router-link",{staticClass:"btn btn-lg",attrs:{to:{name:"forget_password",params:{}}}},[t._v("\n          or reset password\n        ")])],1)])]):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("br"),t._v(" "),s("br"),t._v(" "),s("h1",{staticClass:"text-xs-left"},[t._v("Facebook Login")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("\n          Facebook login has been deactivated in our system. Below the steps to acquire your account:\n        ")]),t._v(" "),s("p",[s("ol",{staticClass:"fbLoginForgetPassword"},[s("li",[t._v("\n              Click reset password below\n            ")]),t._v(" "),s("li",[t._v("\n              Insert your email address used for Facebook\n            ")]),t._v(" "),s("li",[t._v("\n              Click Submit\n            ")]),t._v(" "),s("li",[t._v("\n              A temporary password will be sent to your address.\n            ")])])])])])}]};var Ct=s("VU/8")(ft,gt,!1,function(t){s("ohmO")},null,null).exports,bt={name:"viewRegister",data:function(){return{username:"",email:"",password:"",gender:""}},computed:f()({},Object(g.c)({errors:function(t){return t.auth.errors}})),methods:{onSubmit:function(){var t=this;this.$store.commit(b,{root:!0}),this.$store.dispatch("auth/REGISTER",{email:this.email,password:this.password,name:this.username,gender:this.gender}).then(function(){t.$store.commit(b,{root:!0}),alert("Registration success, please login to your account now"),t.$router.push({name:"login"})}).catch(function(e){t.$store.commit(b,{root:!0}),alert("Unable to reach server, please check again in a few minutes.")})}}},wt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"auth-page"},[s("div",{staticClass:"container page"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("h1",{staticClass:"text-xs-left"},[t._v("Sign up")]),t._v(" "),s("p",{staticClass:"text-xs-left"},[s("router-link",{attrs:{to:{name:"login"}}},[t._v("\n            Have an account?\n          ")])],1),t._v(" "),t.errors?s("ul",{staticClass:"error-messages"},t._l(t.errors,function(e,r){return s("li",{key:r},[t._v(t._s(r)+" "+t._s(t._f("error")(e)))])}),0):t._e(),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("fieldset",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),s("fieldset",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),s("fieldset",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),s("fieldset",{staticClass:"form-group form-inline"},[s("div",{staticClass:"form-check form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"form-check-input",attrs:{type:"radio",name:"gender",id:"genderMale",value:"1"},domProps:{checked:t._q(t.gender,"1")},on:{change:function(e){t.gender="1"}}}),t._v(" "),t._m(0),t._v("\n               \n               \n               \n               \n               \n               \n               \n               \n              "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"form-check-input",attrs:{type:"radio",name:"gender",id:"genderFemale",value:"0"},domProps:{checked:t._q(t.gender,"0")},on:{change:function(e){t.gender="0"}}}),t._v(" "),t._m(1)])]),t._v(" "),s("button",{staticClass:"btn btn-lg btn-primary pull-xs-right"},[t._v("\n            Sign up\n          ")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"form-check-label",attrs:{for:"genderMale"}},[e("h3",[this._v(" Male")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"form-check-label",attrs:{for:"genderFemale"}},[e("h3",[this._v(" Female")])])}]},xt=s("VU/8")(bt,wt,!1,null,null,null).exports,yt={getCurrentCoordinates:function(){navigator;return new H.a(function(t,e){navigator.geolocation.getCurrentPosition(function(e){var s=e.coords;return t(s)},function(t){return e(t)})})}},Tt={name:"viewHome",data:function(){return{isLoadingContent:!0,isLocationError:!0,locationCoord:{lat:0,lon:0},error:""}},computed:f()({},Object(g.b)(["currentCart","merchants"])),mounted:function(){this.refreshContent()},methods:{refreshContent:function(){this.isLoadingContent=!0,this.isLocationError=!1,this.geolocation()},geolocation:function(){navigator.geolocation.getCurrentPosition(this.buildUrl,this.geoError)},buildUrl:function(t){this.locationCoord.lat=t.coords.latitude,this.locationCoord.lon=t.coords.longitude,this.$store.commit("home/SET_CURRENT_LOCATION",{lat:this.locationCoord.lat,lon:this.locationCoord.lon},{root:!0}),this.fetchMerchants(t.coords.latitude,t.coords.longitude),this.isLoadingContent=!1},geoError:function(t){switch(this.error=t.code,this.isLoadingContent=!1,this.isLocationError=!0,t.code){case t.PERMISSION_DENIED:this.error="User denied the request for Geolocation.";break;case t.POSITION_UNAVAILABLE:this.error="Location information is unavailable.";break;case t.TIMEOUT:this.error="The request to get user location timed out.";break;case t.UNKNOWN_ERROR:this.error="An unknown error occurred."}console.log(this.error),alert("Please turn on Location Services. For the best experience, please set it to High Accuracy")},getLocation:function(){return yt.getCurrentCoordinates().then(function(t){return{lat:t.latitude,long:t.longitude}}).catch(function(t){return console.log(t),null})},fetchMerchants:function(t,e){console.log("fetchMerchants",t,e),this.$store.dispatch("merchant/FETCH_MERCHANTS"),this.isLoadingContent=!1,this.isLocationError=!1},openMerchant:function(t){var e=this.merchants[t];if(console.log("merchant selected",e),this.currentCart.items.length>=1)if(this.currentCart.merchant.friendlyId!=e.friendlyId){if(!window.confirm(this.currentCart.merchant.name+" cart is found, would you like to proceed to visit "+e.name+"?"))return 0;this.$store.commit("cart/NEW_CART",e,{root:!0}),this.$router.push({name:"merchant",params:{merchantId:e.friendlyId}})}else this.$router.push({name:"merchant",params:{merchantId:e.friendlyId}});else this.$store.commit("cart/NEW_CART",e,{root:!0});this.$router.push({name:"merchant",params:{merchantId:e.friendlyId}})}}},St={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-page"},[t.isLocationError?s("div",{staticClass:"container page"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("br"),t._v(" "),s("content-placeholders",[s("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),s("content-placeholders-text",{attrs:{lines:3}})],1)],1)])]):t._e(),t._v(" "),t.isLoadingContent?s("div",{staticClass:"container page"},[t._m(0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("br"),t._v(" "),s("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:t.refreshContent}},[t._v("Refresh content")])])])]):t._e(),t._v(" "),t.isLocationError||t.isLoadingContent?t._e():s("div",{staticClass:"container page"},[s("br"),t._m(1),s("br"),t._v(" "),t.merchants.length>=1?s("div",{staticClass:"row justify-content-center"},t._l(t.merchants,function(e,r){return s("div",{key:r,staticClass:"col-xs-6 col-md-3 itemGrid"},[s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"merchantCard",on:{click:function(e){return t.openMerchant(r)}}},[s("div",{staticClass:"merchantImage img-fluid"},[e.currentlyOp?t._e():s("div",{staticClass:"notOpOverlay"},[s("div",{staticClass:"text"},[t._v("Closed")])]),t._v(" "),s("img",{staticClass:"img-fluid",attrs:{src:e.image}})]),t._v(" "),s("small",t._l(e.tags,function(r,o){return s("span",{key:o,staticClass:"merchantTags"},[t._v("\n              "+t._s(r)+"\n              "),o!=e.tags.length-1?s("span",[t._v(" - ")]):t._e()])}),0),s("br"),t._v(" "),s("b",[t._v(t._s(e.name.toUpperCase()))]),s("br"),t._v(" "),s("span",[t._v(t._s(e.address)),s("small",[t._v(" ("+t._s(t._f("floor")(e.distance))+" km)")])]),s("br")])])}),0):t._e(),t._v(" "),t.merchants.length<=0?s("div",{staticClass:"row justify-content-center"},[t._v("\n      No merchant found around you, please try again\n    ")]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Location not found")]),this._v(" "),e("p",[this._v("\n          Please turn on Location Services. For the best experience, please set it to High Accuracy\n        ")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",[e("b",[this._v("Food and Beverage")])])}]};var Et=s("VU/8")(Tt,St,!1,function(t){s("eBT6")},"data-v-45f708b4",null).exports,It={name:"viewProfileUpdates",computed:f()({},Object(g.b)(["currentUser"])),methods:{contactStashAsia:function(){alert("Please contact our hello@stash.asia")},updateSettings:function(){var t=this;this.$store.dispatch(UPDATE_USER,this.currentUser).then(function(){t.$router.push({name:"home"})})}}},kt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("h1",[t._v("Settings")]),s("hr"),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.updateSettings()}}},[s("fieldset",[s("fieldset",{staticClass:"form-group"},[t._v("\n\t\t\t\t\t\tName\n\t\t\t\t\t\t"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUser.username,expression:"currentUser.username"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Your username",disabled:""},domProps:{value:t.currentUser.username},on:{click:t.contactStashAsia,input:function(e){e.target.composing||t.$set(t.currentUser,"username",e.target.value)}}})]),s("br"),t._v(" "),s("fieldset",{staticClass:"form-group"},[t._v("\n\t\t\t\t\t\tEmail\n\t\t\t\t\t\t"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUser.email,expression:"currentUser.email"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Email",disabled:""},domProps:{value:t.currentUser.email},on:{click:t.contactStashAsia,input:function(e){e.target.composing||t.$set(t.currentUser,"email",e.target.value)}}})]),s("br"),t._v(" "),s("fieldset",{staticClass:"form-group"},[t._v("\n\t\t\t\t\t\tPasssword\n\t\t\t\t\t\t"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUser.password,expression:"currentUser.password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.currentUser.password},on:{input:function(e){e.target.composing||t.$set(t.currentUser,"password",e.target.value)}}})]),s("br"),t._v(" "),s("fieldset",{staticClass:"form-group"},[t._v("\n\t\t\t\t\t\tRepeat Passsword\n\t\t\t\t\t\t"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUser.password,expression:"currentUser.password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.currentUser.password},on:{input:function(e){e.target.composing||t.$set(t.currentUser,"password",e.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn btn-lg btn-primary pull-xs-right"},[t._v("\n\t\t\t\t\t\tUpdate Settings\n\t\t\t\t\t")])])])])])])},staticRenderFns:[]},Ot=s("VU/8")(It,kt,!1,null,null,null).exports,At=s("BO1k"),Ut=s.n(At),Rt={name:"viewSettings",methods:{logout:function(){var t=this;if(!window.confirm("Are you sure to log out your STASH account?"))return 0;this.$store.dispatch("auth/LOGOUT").then(function(){t.$router.push({name:"home"})})},updateApp:function(){this.$store.commit(b,{root:!0}),window.navigator&&navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then(function(t){var e=!0,s=!1,r=void 0;try{for(var o,a=Ut()(t);!(e=(o=a.next()).done);e=!0){o.value.unregister()}}catch(t){s=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(s)throw r}}}),window.location.reload(!0),this.$store.commit(b,{root:!0}),alert("Your STASH is up to date")}}},Pt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("button",{staticClass:"btn btn-outline-success btn-block btn-lg",on:{click:t.updateApp}},[t._v("\n\t\t\t\t\tApp update\n\t\t\t\t")]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("button",{staticClass:"btn btn-outline-danger btn-block",on:{click:t.logout}},[t._v("\n\t\t\t\t\tLogout\n\t\t\t\t")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Settings")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("menu")]),this._v(" Profile Update")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("security")]),this._v(" Password Update")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("contact_support")]),this._v(" FAQ")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("question_answer")]),this._v(" Contact")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("description")]),this._v(" Privacy Policy")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("description")]),this._v(" Terms of Service")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("description")]),this._v(" Legal")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("description")]),this._v(" Security")]),this._v(" "),e("hr")])])}]};var Nt=s("VU/8")(Rt,Pt,!1,function(t){s("G0lJ")},null,null).exports,$t={name:"viewForgetPasswordRequest",data:function(){return{email:"",isPasswordEmailSent:!1}},methods:{forgetPasswordSendRequest:function(){var t=this;this.$store.dispatch("auth/FORGET_PASSWORD_REQUEST",this.email).then(function(e){t.isPasswordEmailSent=!0}).catch(function(t){alert("Unable to reach server, please try again in a few minutes")})}}},Mt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._m(0),t._v(" "),t.isPasswordEmailSent?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("p",[t._v("\n\t\t\t\tPlease enter your email address to search for your account.\n\t\t\t")]),t._v(" "),s("form",[s("fieldset",[s("fieldset",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])])]),t._v(" "),s("br")])]),t._v(" "),t.isPasswordEmailSent?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-6"},[s("router-link",{staticClass:"btn btn-lg btn-outline-primary btn-block",attrs:{to:{name:"login",params:{}}}},[t._v("\n\t\t\t\tCancel\n\t\t\t")])],1),t._v(" "),s("div",{staticClass:"col-xs-6"},[s("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:function(e){return t.forgetPasswordSendRequest()}}},[t._v("\n\t\t\t\tSend reset email\n\t\t\t")])])]),t._v(" "),t.isPasswordEmailSent?s("div",{staticClass:"row"},[t._m(1)]):t._e(),t._v(" "),t.isPasswordEmailSent?s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("router-link",{staticClass:"btn btn-lg btn-outline-primary btn-block",attrs:{to:{name:"login",params:{}}}},[t._v("\n\t\t\t\tReturn to login page\n\t\t\t")])],1)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Reset your password")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-xs-12"},[e("p",[this._v("\n\t\t\t\tReset process has been started, please view your email\n\t\t\t")])])}]},Lt=s("VU/8")($t,Mt,!1,null,null,null).exports,Dt={name:"viewWallet",data:function(){return{}},computed:f()({},Object(g.b)(["currentUser"])),methods:{gotoTopUpWallet:function(){this.$router.push({name:"walletTopUp"})},gotoOrderDetails:function(t){this.$router.push({name:"orderDetails",params:{orderId:t}})},gotoLastTransactions:function(){alert("Feature work in progress")},gotoInbox:function(){this.$router.push({name:"inbox"})},gotoSettings:function(){this.$router.push({name:"settings"})}},created:function(){this.$store.dispatch("auth/CHECK_AUTH",!0)}},Ft={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("h4",[t._v("Hi "),s("span",{staticClass:"text-uppercase font-weight-bold"},[t._v(t._s(t.currentUser.username))]),t._v("! "),s("small",[t._v(" Your wallet credit balance:")])]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("h1",{staticClass:"text-xs-center font-weight-bold"},[t._v(t._s(t.currentUser.wallet.ccy)+" "+t._s(t._f("2decimal")(t.currentUser.wallet.value)))]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-xl",on:{click:t.gotoTopUpWallet}},[s("i",{staticClass:"ion-ios-plus-outline"}),s("span",[t._v(" Top Up Balance")])])]),t._v(" "),s("br"),t._v(" "),s("br")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-6 text-xs-center"},[s("button",{staticClass:"btn btn-outline-primary btn-xl btn-block",on:{click:t.gotoInbox}},[s("i",{staticClass:"ion-android-mail"}),s("span")])]),t._v(" "),s("div",{staticClass:"col-xs-6 text-xs-center"},[s("button",{staticClass:"btn btn-outline-primary btn-xl btn-block",on:{click:t.gotoSettings}},[s("i",{staticClass:"ion-gear-b"})])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("br"),t._v(" "),s("p",[t._v("Last transactions:")]),t._v(" "),s("table",{staticClass:"table"},[t._m(0),t._v(" "),s("tbody",t._l(t.currentUser.lastTransaction,function(e,r){return s("tr",{key:r},[s("td",{on:{click:function(s){return t.gotoOrderDetails(e.id)}}},[s("i",{staticClass:"ion-arrow-right-b"}),t._v("  "+t._s(e.merchant))]),t._v(" "),s("td",{on:{click:function(s){return t.gotoOrderDetails(e.id)}}},[t._v("SGD "+t._s(t._f("2decimal")(e.value)))]),t._v(" "),s("td",{on:{click:function(s){return t.gotoOrderDetails(e.id)}}},[t._v(t._s(e.dateTime))])])}),0)]),t._v(" "),s("hr")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("Merchant")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Amount")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Date Time")])])])}]};var Ht=s("VU/8")(Dt,Ft,!1,function(t){s("wYNO")},"data-v-7c2bcec4",null).exports,qt=s("mvHQ"),Vt=s.n(qt),Gt={topUp:function(t){return console.log("Payment called",t),Q.post("wallet/topup/process",t)}},jt=s("/CiQ"),Wt={name:"viewTopUpWallet",components:{Card:jt.Card},data:function(){return{allowedPaymentCard:["VISA","MASTER","AMEX","DISCOVER","DINERSCLUB","JCB","UNIONPAY"],allowedTopUpJump:[20,35,50,75,100],isTopUpSuccess:!1,topUpValue:20,topUpMethod:"",voucherCode:"",complete:!1,stripeOptions:{hidePostalCode:!0}}},methods:{pay:function(){var t=this;this.$store.commit(b,{root:!0});Object(jt.createToken)().then(function(e){console.log(e.token),Gt.topUp({amount:t.topUpValue,payment_method:t.topUpMethod,nonce:e.token.id}).then(function(e){alert("Topup success"),t.$store.commit(b,{root:!0}),t.$router.push({name:"wallet"})}).catch(function(e){t.$store.commit(b,{root:!0}),alert("Unable to reach server for top-up, please try again in a few minutes")})}).catch(function(e){t.$store.commit(b,{root:!0}),console.log("Card declined",Vt()(e,null,2)),alert("Card declined")})},submitTopUpRequest:function(){if(this.allowedTopUpJump.includes(parseInt(this.topUpValue))){if(this.allowedPaymentCard.includes(this.topUpMethod.toUpperCase()))alert("Processing payment with card"),this.pay(),this.isTopUpSuccess=!0;else if(!this.allowedPaymentCard.includes(this.topUpMethod.toUpperCase()))return void alert("Please select valid preferred payment method");if(["VOUCHER"].includes(this.topUpMethod.toUpperCase())){if(!(this.voucherCode.length>=6))return void alert("Please provide valid voucher code to proceed with top-up");alert("Processing payment with voucher"),this.isTopUpSuccess=!0}}else alert("Please select valid top-up value")}}},Bt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._m(0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("form",[s("div",{staticClass:"form-group"},[s("h4",[t._v("Top-up value (SGD)")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.topUpValue,expression:"topUpValue"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.topUpValue=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"20"}},[t._v("SGD 20")]),t._v(" "),s("option",{attrs:{value:"35"}},[t._v("SGD 35")]),t._v(" "),s("option",{attrs:{value:"50"}},[t._v("SGD 50")]),t._v(" "),s("option",{attrs:{value:"75"}},[t._v("SGD 75")]),t._v(" "),s("option",{attrs:{value:"100"}},[t._v("SGD 100")])])]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"form-group"},[s("h4",[t._v("Preferred payment method")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.topUpMethod,expression:"topUpMethod"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.topUpMethod=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("-- Select --")]),t._v(" "),s("option",{attrs:{value:"visa"}},[t._v("Visa")]),t._v(" "),s("option",{attrs:{value:"master"}},[t._v("Mastercard")]),t._v(" "),s("option",{attrs:{value:"amex"}},[t._v("American Express")]),t._v(" "),s("option",{attrs:{value:"discover"}},[t._v("Discover")]),t._v(" "),s("option",{attrs:{value:"dinersclub"}},[t._v("Diners Club")]),t._v(" "),s("option",{attrs:{value:"jcb"}},[t._v("JCB")]),t._v(" "),s("option",{attrs:{value:"unionpay"}},[t._v("UnionPay")]),t._v(" "),s("option",{attrs:{value:"voucher"}},[t._v("Voucher")])])]),t._v(" "),"VOUCHER"==t.topUpMethod.toUpperCase()?s("div",{staticClass:"form-group"},[s("br"),t._v(" "),s("h4",[t._v("Preferred payment method")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.voucherCode,expression:"voucherCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Type your voucher code here"},domProps:{value:t.voucherCode},on:{input:function(e){e.target.composing||(t.voucherCode=e.target.value)}}})]):t._e()]),t._v(" "),s("br")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("h4",[t._v("Payment summary (SGD)")]),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("h3",[s("b",[t._v("SGD "+t._s(t.topUpValue))]),t._v(" with "),s("b",[t.topUpMethod.length>=1?s("span",[t._v(t._s(t._f("capitalize")(t.topUpMethod)))]):t._e(),t._v(" "),t.topUpMethod.length<=0?s("span",[t._m(1)]):t._e()]),t._v(" "),"VOUCHER"==t.topUpMethod.toUpperCase()?s("span",[s("small",[t.voucherCode.length>=1?s("i",[t._v("\n                ( "+t._s(t.voucherCode.toUpperCase())+" )\n              ")]):t._e(),t._v(" "),t.voucherCode.length<=0?s("i",[t._v("\n                ( Insert your voucher code )\n              ")]):t._e()])]):t._e()]),t._v(" "),s("br")])])]),t._v(" "),t.isTopUpSuccess||t.allowedPaymentCard.includes(t.topUpMethod.toUpperCase())?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.submitTopUpRequest}},[t._v("Submit")])])]),t._v(" "),t.allowedPaymentCard.includes(t.topUpMethod.toUpperCase())?s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12 text-xs-center"},[s("hr"),t._v(" "),s("Card",{staticClass:"stripe-card form-control text-xs-center",class:{complete:t.complete},attrs:{stripe:"pk_test_wqTOBW4qf7anhVBuevR50h27",options:t.stripeOptions},on:{change:function(e){t.complete=e.complete}}}),t._v(" "),s("hr")],1)]):t._e(),t._v(" "),!t.isTopUpSuccess&&t.allowedPaymentCard.includes(t.topUpMethod.toUpperCase())&&t.complete?s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.pay}},[t._v("Submit")])])]):t._e(),t._v(" "),t.isTopUpSuccess?s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n        Success top-up! \n          "),s("router-link",{attrs:{to:{name:"wallet"}}},[t._v("\n            Click here to view your wallet\n          ")])],1)])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h2",[this._v("Wallet Balance Top-up")]),this._v(" "),e("hr"),this._v(" "),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("small",[e("i",[this._v("select payment method")])])}]};var zt=s("VU/8")(Wt,Bt,!1,function(t){s("NpPs")},"data-v-195352e7",null).exports,Yt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("br"),t._v(" "),s("h1",[t._v("Inbox")]),t._v(" "),s("table",{staticClass:"table"},[s("tbody",[s("tr",[s("td",[s("img",{staticClass:"img-fluid merchantImg",attrs:{src:"https://via.placeholder.com/73"}})]),t._v(" "),s("td",[s("p",[s("b",[t._v("Thirsty Guys - Faculty of Science")])]),t._v(" "),s("p",[t._v("Test123")])])]),t._v(" "),s("tr",[s("td",[s("img",{staticClass:"img-fluid merchantImg",attrs:{src:"https://via.placeholder.com/73"}})]),t._v(" "),s("td",[s("p",[s("b",[t._v("Thirsty Guys - Faculty of Science")])]),t._v(" "),s("p",[t._v("Test123")])])]),t._v(" "),s("tr",[s("td",[s("img",{staticClass:"img-fluid merchantImg",attrs:{src:"https://via.placeholder.com/73"}})]),t._v(" "),s("td",[s("p",[s("b",[t._v("Thirsty Guys - Faculty of Science")])]),t._v(" "),s("p",[t._v("Test123")])])]),t._v(" "),s("tr",[s("td",[s("img",{staticClass:"img-fluid merchantImg",attrs:{src:"https://via.placeholder.com/73"}})]),t._v(" "),s("td",[s("p",[s("b",[t._v("Thirsty Guys - Faculty of Science")])]),t._v(" "),s("p",[t._v("Test123")])])])])])])])])}]};var Qt=s("VU/8")({name:"viewInbox",data:function(){return{}}},Yt,!1,function(t){s("UgQl")},"data-v-3a4ff34e",null).exports,Kt={name:"MenuCategory",props:{menuCategory:{type:Object,required:!0}},data:function(){return{}},computed:f()({},Object(g.b)(["currentCart"])),methods:{toggleCategory:function(){this.$store.commit("merchant/SET_PERSISTENT_EXPANDED_MENU_CATEGORY",this.menuCategory.name)},checkItem:function(t){var e=this;if(this.$store.state.merchant.merchant.currentlyOp){var s=this.menuCategory.menuList[t];if(s.customisationApplied=[],s.customisation.length>=1)this.$store.commit("cart/SET_TEMP_ITEM",s),this.$router.push({name:"itemCustomisation",params:{merchantId:this.currentCart.merchant.friendlyId,itemId:s.id}});else{this.$toasted.show("<b>"+s.name.toUpperCase()+" </b>&nbsp;added to your cart",{theme:"bubble",position:"bottom-center",duration:2e3,action:{text:"Cart",onClick:function(t,s){s.goAway(0),e.$router.push({name:"cart",params:{}})}}});this.$store.commit("cart/ADD_TO_CART",s)}}else this.$toasted.show(this.$store.state.merchant.merchant.name+" @ "+this.$store.state.merchant.merchant.address+" is closed now",{theme:"outline",position:"bottom-center",duration:2e3})}}},Jt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"menuCategory",on:{click:function(e){return t.toggleCategory()}}},[s("h4",{staticClass:"text-uppercase"},[t.menuCategory.isSelected?s("i",{staticClass:"ion-arrow-down-b"}):t._e(),t.menuCategory.isSelected?t._e():s("i",{staticClass:"ion-arrow-right-b"}),t._v("  "+t._s(t.menuCategory.name))])]),t._v(" "),t.menuCategory.isSelected?s("div",{staticClass:"menuList"},t._l(t.menuCategory.menuList,function(e,r){return s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,staticClass:"item",on:{click:function(e){return t.checkItem(r)}}},[s("div",{staticClass:"row itemContent"},[s("div",{staticClass:"col-xs-3"},[s("img",{staticClass:"img-fluid",attrs:{src:e.image}})]),t._v(" "),s("div",{staticClass:"col-xs-6 text-uppercase"},[s("div",{staticClass:"font-weight-bold"},[t._v(t._s(e.name))])]),t._v(" "),s("div",{staticClass:"col-xs-3"},[t._v("\n            "+t._s(t._f("currency")(e.price))+"\n          ")])]),t._v(" "),r!=t.menuCategory.menuList.length-1?s("hr"):t._e()])}),0):t._e()])},staticRenderFns:[]};var Xt={name:"viewMerchant",components:{MenuCategory:s("VU/8")(Kt,Jt,!1,function(t){s("9jAP")},"data-v-2fca6340",null).exports},data:function(){return{isPageLoading:!1,isMenuSelected:!0,isAboutSelected:!1,isLoyaltySelected:!1}},methods:{changeView:function(t){this.isMenuSelected=!1,this.isAboutSelected=!1,this.isLoyaltySelected=!1,"MENU"==t&&(this.isMenuSelected=!0),"ABOUT"==t&&(this.isAboutSelected=!0),"LOYALTY"==t&&(this.isLoyaltySelected=!0)}},computed:f()({},Object(g.b)(["merchant"])),beforeRouteEnter:function(t,e,s){if(_t.state.merchant.merchant&&t.params.merchantId==_t.state.merchant.merchant.friendlyId)return _t.state.merchant.merchant.currentlyOp||alert(_t.state.merchant.merchant.name+" @ "+_t.state.merchant.merchant.address+" is closed now"),_t.commit("cart/REMOVE_TEMP_ITEM"),void s();H.a.all([_t.commit(b,{root:!0}),_t.dispatch("merchant/FETCH_MERCHANT",t.params.merchantId),_t.commit(b,{root:!0})]).then(function(){_t.commit("cart/REMOVE_TEMP_ITEM"),s()})}},Zt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.isPageLoading?s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[t._v("\n\t\t\t\tLoading "+t._s(t.merchant.name)+"'s data\n\t\t\t")])]):t._e(),t._v(" "),t.isPageLoading?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("img",{staticClass:"img-fluid",attrs:{src:t.merchant.image}}),t._v(" "),s("h2",[s("b",[t._v(t._s(t.merchant.name))])]),t._v(" "),s("p",[t._v(t._s(t.merchant.address))]),t._v(" "),s("hr")])]),t._v(" "),t.isPageLoading?t._e():s("div",{staticClass:"row"},[s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"col-xs-4 text-xs-center",class:{mainColor:t.isMenuSelected},on:{click:function(e){return t.changeView("MENU")}}},[s("h4",{staticClass:"text-xs-center font-weight-bold"},[t._v("MENU")])]),t._v(" "),s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"col-xs-4 text-xs-center",class:{mainColor:t.isLoyaltySelected},on:{click:function(e){return t.changeView("LOYALTY")}}},[s("h4",{staticClass:"text-xs-center font-weight-bold"},[t._v("REWARDS")])]),t._v(" "),s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"col-xs-4 text-xs-center",class:{mainColor:t.isAboutSelected},on:{click:function(e){return t.changeView("ABOUT")}}},[s("h4",{staticClass:"text-xs-center font-weight-bold"},[t._v("ABOUT")])])]),t._v(" "),t.isPageLoading?t._e():s("div",{staticClass:"row"},[s("transition",{attrs:{name:"component-fade",mode:"out-in",duration:{enter:188,leave:200}}},[t.isMenuSelected?s("div",{staticClass:"col-xs-12"},[s("hr",{staticClass:"mb-0"}),t._v(" "),t._l(t.merchant.menu,function(e,r){return s("div",{key:r,attrs:{classs:"categoryList"}},[s("MenuCategory",{staticClass:"menuCategory",attrs:{menuCategory:e}}),t._v(" "),s("hr",{staticClass:"margin0"})],1)})],2):t._e()]),t._v(" "),s("transition",{attrs:{name:"component-fade",mode:"out-in",duration:{enter:188,leave:200}}},[t.isAboutSelected?s("div",{staticClass:"col-xs-12"},[s("hr"),t._v(" "),s("p",{staticClass:"twentySizePtHeight"},[t._v("\n\t\t\t\t\t\t"+t._s(t.merchant.about)+"\n\t\t\t\t\t")])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"component-fade",mode:"out-in",duration:{enter:188,leave:200}}},[t.isLoyaltySelected?s("div",{staticClass:"col-xs-12"},[s("hr"),t._v(" "),s("br"),t._v(" "),s("h3",[t._v("\n\t\t\t\t\t\tYou are 6 stamps away from free boba\n\t\t\t\t\t")])]):t._e()])],1)])},staticRenderFns:[]};var te=s("VU/8")(Xt,Zt,!1,function(t){s("uNPg")},"data-v-47ecc717",null).exports,ee={name:"viewMerchantDeal",computed:f()({},Object(g.b)(["merchant"])),components:{},data:function(){return{}}},se={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("router-link",{attrs:{to:{name:"merchant",params:{merchantId:this.merchant.friendlyId}}}},[s("b",[s("b",{staticClass:"ion-android-arrow-back mainColor"}),t._v(" "+t._s(t.merchant.name)+" / "+t._s(t.merchant.address))])])],1)]),t._v(" "),t._m(0),t._v(" "),s("hr")])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h1",[this._v("Deals")])])])}]};var re=s("VU/8")(ee,se,!1,function(t){s("qZRe")},"data-v-4517f048",null).exports,oe={name:"ItemCustomiseCategory",props:{customiser:{type:Object,required:!0},customiserCategory:{type:Object,required:!0}},data:function(){return{isSelected:!1}},computed:f()({},Object(g.b)(["tempItem"])),methods:{selectItemCustomiserItem:function(){if(this.isSelected)return this.$store.commit("cart/REMOVE_CUSTOM_FROM_TEMP_ITEM",this.customiser),console.log("Item removed"),void(this.isSelected=!this.isSelected);var t=this.customiser;t.customiserCategoryName=this.customiserCategory.name;for(var e=0,s=0;s<this.tempItem.customisationApplied.length;s++)this.tempItem.customisationApplied[s].customiserCategoryName===this.customiserCategory.name&&(e+=1);var r=this.customiserCategory.maxSelection;0==r&&(r=e+2),e<r?(this.$store.commit("cart/ADD_CUSTOM_TO_TEMP_ITEM",t),this.isSelected=!this.isSelected):alert("You have reached max selection for "+this.tempItem.name+" "+this.customiserCategory.name+" ("+String(r)+" items)")}}},ae={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"row",on:{click:function(e){return t.selectItemCustomiserItem()}}},[s("div",{staticClass:"col-xs-9"},[s("h5",{class:{active:t.isSelected}},[t.isSelected?s("i",{staticClass:"ion-android-checkbox mainColor"}):t._e(),t.isSelected?t._e():s("i",{staticClass:"ion-android-checkbox-outline-blank mainColor"}),t._v("   "+t._s(t.customiser.name)+"\n      ")])]),t._v(" "),s("div",{staticClass:"col-xs-3 text-xs-right",class:{active:t.isSelected}},[s("h5",[0==t.customiser.price?s("small",{class:{active:t.isSelected}},[t._v("Free")]):t._e(),t._v(" "),t.customiser.price>0?s("small",{class:{active:t.isSelected}},[t._v("+"+t._s(t._f("currency")(t.customiser.price)))]):t._e()])])])])},staticRenderFns:[]};var ne=s("VU/8")(oe,ae,!1,function(t){s("a2QK")},"data-v-5470753e",null).exports,ie={name:"ItemCustomiseCategory",props:{customObject:{type:Object,required:!0}},data:function(){return{}},components:{ItemCustomiseItem:ne}},ce={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",[t._v(t._s(t.customObject.name)+" \n    "),s("small",[t._v("\n      (\n        "),t.customObject.minSelection==t.customObject.maxSelection&&t.customObject.minSelection>=1?s("span",[s("b",[t._v("required")]),t._v(" "),s("small",[t._v(t._s(t.customObject.minSelection)+" "+t._s(t._f("pluralize")(t.customObject.maxSelection,"selection")))])]):s("span",[t.customObject.minSelection>=1?s("span",[s("b",[t._v("required")]),t._v(" "),s("small",[t._v("min. "+t._s(t.customObject.minSelection)+" "+t._s(t._f("pluralize")(t.customObject.minSelection,"selection")))])]):t._e(),t._v(" "),0==t.customObject.minSelection?s("span",[t._v(" optional ")]):t._e(),t._v(" "),t.customObject.maxSelection>=1?s("span",[s("small",[t._v("up to "+t._s(t.customObject.maxSelection)+" "+t._s(t._f("pluralize")(t.customObject.maxSelection,"selection")))])]):t._e()]),t._v("\n      )\n    ")])]),t._v(" "),s("div",t._l(t.customObject.items,function(e,r){return s("div",{key:r,staticClass:"modifierItem"},[s("ItemCustomiseItem",{attrs:{customiser:e,customiserCategory:t.customObject}}),t._v(" "),r!=t.customObject.items.length-1?s("hr"):t._e()],1)}),0)])},staticRenderFns:[]};var le={name:"viewItemCustomise",data:function(){return{}},components:{ItemCustomiseCategory:s("VU/8")(ie,ce,!1,function(t){s("CBug")},"data-v-8be35a24",null).exports},computed:f()({},Object(g.b)(["merchant","tempItem"]),{item:function(){var t=this;return this.merchant.menu.find(function(e){return e.menuList.find(function(e){return e.id===t.$route.params.itemId})}).menuList.find(function(e){return e.id===t.$route.params.itemId})}}),methods:{calcItemValue:function(){for(var t=this.tempItem.price,e=0;e<this.tempItem.customisationApplied.length;e++)t+=this.tempItem.customisationApplied[e].price;return t},addItem:function(){for(var t=this,e=0;e<this.item.customisation.length;e++){var s=this.item.customisation[e].minSelection,r=this.item.customisation[e].maxSelection,o=this.item.customisation[e].name,a=0;0==r&&(r=999);for(var n=0;n<this.tempItem.customisationApplied.length;n++)this.tempItem.customisationApplied[n].customiserCategoryName===o&&(a+=1);if(console.log("customCategory",this.tempItem.customisation[e].name,"min",s,"max",r,"count",a),console.log("currentTempItem",this.tempItem),a<s)return void alert("You have to select at least "+String(s)+" "+this.tempItem.name+" "+o);if(a>r)return void alert("You have reached max selection for "+this.tempItem.name+" "+o+" ("+String(r)+" items)")}this.$toasted.show("<b>"+this.item.name.toUpperCase()+" </b>&nbsp;added to your cart",{theme:"bubble",position:"bottom-center",duration:2e3,action:{text:"Cart",onClick:function(e,s){s.goAway(0),t.$router.push({name:"cart",params:{}})}}});this.$store.commit("cart/ADD_TO_CART"),this.$router.push({name:"merchant",params:{merchantId:this.merchant.friendlyId}})}},beforeRouteEnter:function(t,e,s){console.log("Checking tempItem",_t.state.cart.currentCart.tempItem.hasOwnProperty("id")),_t.state.cart.currentCart.tempItem.hasOwnProperty("id")?(console.log("Checking tempItem","is found"),s()):(console.log("Checking tempItem","not found"),Ce.go(-1))}},ue={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("br"),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("router-link",{attrs:{to:{name:"merchant",params:{merchantId:this.merchant.friendlyId}}}},[s("b",[s("b",{staticClass:"ion-android-arrow-back mainColor"}),t._v(" "+t._s(t.merchant.name)+" / "+t._s(t.merchant.address))])])],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-9"},[s("h1",[t._v(t._s(t.item.name))])]),t._v(" "),s("div",{staticClass:"col-xs-3 text-xs-right"},[s("h4",[s("b",{staticClass:"mainColor"},[t._v("SGD "+t._s(t._f("2decimal")(t.calcItemValue())))])])])]),t._v(" "),s("hr"),t._v(" "),s("br"),t._v(" "),t._l(t.item.customisation,function(e,r){return s("div",{key:r,staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("ItemCustomiseCategory",{attrs:{customObject:e}}),t._v(" "),r!=t.item.customisation.length-1?s("hr"):t._e(),t._v(" "),s("br")],1)])}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("br"),t._v(" "),s("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.addItem}},[t._v("Submit")])])])],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"})])}]};var me=s("VU/8")(le,ue,!1,function(t){s("xS3f")},"data-v-c93e8c5e",null).exports,de={name:"viewCart",data:function(){return{collectionMethod:"-1",collectionTime:"-1",tableNumber:"",promoCode:"",isPromoLoading:!1,validPromo:!1}},computed:f()({},Object(g.b)(["currentCart","merchant"])),methods:{gotoPromoPage:function(){alert("No promo found")},calcItemValue:function(t){for(var e=parseFloat(t.price),s=0;s<t.customisationApplied.length;s++)e+=parseFloat(t.customisationApplied[s].price);return e},calcSubTotal:function(){var t=0;console.log("currentCart",this.currentCart,this.currentCart.items.length,"items"),console.log(t,0);for(var e=0;e<this.currentCart.items.length;e++)console.log(t,this.calcItemValue(this.currentCart.items[e])),t+=parseFloat(this.calcItemValue(this.currentCart.items[e]));return console.log(t,0),t},calcTotal:function(){return this.calcSubTotal()},removeItem:function(t){var e=this.currentCart.items[t];if(!window.confirm("Proceed removing "+e.name+" from your cart?"))return 0;this.$store.commit("cart/REMOVE_FROM_CART",t),this.currentCart.items.length<=0&&this.$router.push({name:"merchant",params:{merchantId:this.currentCart.merchant.id}})},calcTotalItemPrice:function(t){return 0},calcTotalOrder:function(){},calcSubTotalOrder:function(){},submitOrder:function(t){var e=this;if("CASH"===t||"STASH"===t)if(0!=this.currentCart.items.length){if("eatIn"==this.collectionMethod){if(this.tableNumber.length<1)return void alert("Please provide valid table number")}else{if("takeOut"!=this.collectionMethod)return void alert("Please select collection method");if(![0,5,10,15,30].includes(parseInt(this.collectionTime)))return void alert("Please select pick-up time")}var s={menu:[],promotion:{},itemCount:this.currentCart.items.length,subtotal:parseFloat(this.calcSubTotal()).toFixed(2),discount:"",tax:"",total:parseFloat(this.calcTotal()).toFixed(2)};s.promotion={promoId:"",promoCode:"",promoName:""},s.discount=0,s.tax=0;for(var r=0;r<this.currentCart.items.length;r++){var o="",a=0;console.log("tmp",this.currentCart.items[r].customisationApplied);for(var n=0;n<this.currentCart.items[r].customisationApplied.length;n++)o=(o=(o=o+this.currentCart.items[r].customisationApplied[n].customiserCategoryName+"|")+this.currentCart.items[r].customisationApplied[n].name+"|")+this.currentCart.items[r].customisationApplied[n].price+"\n",a+=this.currentCart.items[r].customisationApplied[n].price;var i={uniqueId:0,menuId:this.currentCart.items[r].id,name:this.currentCart.items[r].name,qty:1,menuPrice:this.currentCart.items[r].price,variation:o,totalVariationPrice:a,totalPrice:this.currentCart.items[r].price+a};s.menu.push(i)}var c={merchant_id:this.currentCart.merchant.id,payment_type:t,table_no:this.tableNumber,delay_by:this.collectionTime,amount:parseFloat(this.calcTotal()).toFixed(2),oinfo:Vt()(s)};console.log(c),this.$store.commit(b,{root:!0}),lt.create(c).then(function(t){console.log("Order success",t.data.sales_id),e.$store.commit(b,{root:!0}),e.$store.commit("cart/RESET_CART",{root:!0}),e.$router.push({name:"orderDetails",params:{orderId:t.data.sales_id}})}).catch(function(t){e.$store.commit(b,{root:!0}),console.log("Order not created",t,t.response),400==t.response.status?39!=t.response.data.status?alert("Unable to create order, please try again in a few minutes"):alert("Insufficient balance, please topup your wallet"):alert("Unable to create order, please try again in a few minutes")})}else alert("No item selected");else alert("Invalid payment method")}}},ve={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._m(0),t._v(" "),s("hr"),t._v(" "),s("router-link",{attrs:{to:{name:"merchant",params:{merchantId:t.merchant.friendlyId}}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-3"},[s("img",{staticClass:"img-fluid",attrs:{src:t.merchant.image}})]),t._v(" "),s("div",{staticClass:"col-xs-9"},[s("h3",[s("b",[t._v(t._s(t.merchant.name))])]),t._v(" "),s("h5",{staticClass:"blackColor"},[t._v(t._s(t.merchant.address))])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-6"},[s("b",{staticClass:"mainColor"},[t._v("\n        Eat in / Take out\n      ")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.collectionMethod,expression:"collectionMethod"}],staticClass:"form-control highlightedForm",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.collectionMethod=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"-1"}},[t._v("-- Select --")]),t._v(" "),1==t.merchant.availableCollectionMethod||2==t.merchant.availableCollectionMethod?s("option",{attrs:{value:"eatIn"}},[t._v("Eat in")]):t._e(),t._v(" "),0==t.merchant.availableCollectionMethod||2==t.merchant.availableCollectionMethod?s("option",{attrs:{value:"takeOut"}},[t._v("Take out")]):t._e()])]),t._v(" "),s("transition",{attrs:{name:"component-fade",mode:"out-in"}},["takeOut"==t.collectionMethod?s("div",{staticClass:"col-xs-6"},[s("b",{staticClass:"mainColor"},[t._v("I am coming in ...")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.collectionTime,expression:"collectionTime"}],staticClass:"form-control highlightedSubForm",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.collectionTime=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"-1"}},[t._v("-- X minutes --")]),t._v(" "),s("option",{attrs:{value:"0"}},[t._v("Now")]),t._v(" "),s("option",{attrs:{value:"5"}},[t._v("5 minutes")]),t._v(" "),s("option",{attrs:{value:"10"}},[t._v("10 minutes")]),t._v(" "),s("option",{attrs:{value:"15"}},[t._v("15 minutes")]),t._v(" "),s("option",{attrs:{value:"30"}},[t._v("30 minutes")])])]):t._e(),t._v(" "),"eatIn"==t.collectionMethod?s("div",{staticClass:"col-xs-6"},[s("b",{staticClass:"mainColor"},[t._v("Table number")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tableNumber,expression:"tableNumber"}],staticClass:"form-control highlightedSubForm",attrs:{type:"text",placeholder:"#",required:""},domProps:{value:t.tableNumber},on:{input:function(e){e.target.composing||(t.tableNumber=e.target.value)}}})]):t._e()])],1),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("h4",[t._v("Items")]),t._v(" "),s("table",{staticClass:"table table-sm"},[t._m(1),t._v(" "),t.currentCart.items.length>=1?s("tbody",t._l(t.currentCart.items,function(e,r){return s("tr",{key:r,staticClass:"cartItem cellPadded"},[s("td",[s("b",{on:{click:function(e){return t.removeItem(r)}}},[s("i",{staticClass:"ion-android-cancel text-warning"})]),t._v("   "),s("b",[t._v(t._s(e.name))]),s("br"),t._v(" "),e.customisationApplied.length>0?s("span",[s("span",{staticClass:"itemCustomDetails"},[s("small",[s("small",[t._v("+Base "+t._s(e.name)+" (SGD "+t._s(t._f("2decimal")(e.price))+")")])])]),s("br"),t._v(" "),t._l(e.customisationApplied,function(e,r){return s("span",{key:r,staticClass:"itemCustomDetails"},[s("small",[s("small",[t._v("\n                        + "+t._s(e.customiserCategoryName)+" "+t._s(e.name)+" ("),0==e.price?s("span",[t._v("Free")]):t._e(),e.price>0?s("span",[t._v(t._s(t._f("currency")(e.price)))]):t._e(),t._v(")\n                      ")])]),t._v(" "),s("br")])})],2):t._e()]),t._v(" "),s("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(t.calcItemValue(e))))])])}),0):s("tbody",[t._m(2)]),t._v(" "),t.currentCart.items.length>=1?s("tfoot",[s("tr",{staticClass:"cellPadded"},[s("td",{staticClass:"text-xs-right"},[t._v("Subtotal")]),t._v(" "),s("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(t.calcSubTotal())))])]),t._v(" "),s("tr",{staticClass:"font-weight-bold cellPadded"},[s("td",{staticClass:"text-xs-right"},[t._v("Total")]),t._v(" "),s("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(t.calcTotal())))])])]):t._e()])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:this.currentCart.notes,expression:"this.currentCart.notes"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Notes to merchant"},domProps:{value:this.currentCart.notes},on:{input:function(e){e.target.composing||t.$set(this.currentCart,"notes",e.target.value)}}}),t._v(" "),s("br")])]),t._v(" "),t._m(3),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-6"},[s("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"btn btn-outline-primary btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.submitOrder("CASH")}}},[t._v("\n        CASH\n      ")])]),t._v(" "),s("div",{staticClass:"col-xs-6"},[s("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.submitOrder("STASH")}}},[t._v("\n        STASH\n      ")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Checkout")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col-10"}},[this._v("Item")]),this._v(" "),e("th",{attrs:{scope:"col-2"}},[this._v("Total")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"2"}},[this._v("\n                No item selected\n              ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 disclaimer"},[e("br"),this._v(" "),e("h5",[this._v("Pay with")])])])}]};var he=s("VU/8")(de,ve,!1,function(t){s("SnwN")},"data-v-67ebaa38",null).exports,pe={name:"viewOrderDetails",data:function(){return{isReportOrder:!1,isCancelOrder:!1}},mounted:function(){H.a.all([this.$store.commit(b,{root:!0}),this.$store.dispatch("order/FETCH_ORDER_DETAILS",this.$route.params.orderId),this.$store.commit(b,{root:!0})])},computed:f()({},Object(g.b)(["hasOrder","currentOrderDetails","orderQR","orderIdSplit"])),methods:{isReportOrderAvailable:function(){var t=new Date(this.currentOrderDetails.orderDateTime),e=new Date,s=Math.abs(e.getTime()-t.getTime()),r=Math.ceil(s/864e5);return console.log("order reporting feature",t,e,r),r<14},calcSubTotal:function(){for(var t=0,e=0;e<this.currentOrderDetails.items.length;e++)t+=this.currentOrderDetails.items[e].value;return parseFloat(t)},calcTotal:function(){return this.calcSubTotal()},cancelOrder:function(){if(!window.confirm("Do you want to cancel the order?"))return 0;alert("Cancelling your order"),this.isCancelOrder=!this.isCancelOrder},reportOrder:function(){alert("Reporting your order"),this.isReportOrder=!this.isReportOrder}}},_e={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.hasOrder?t._e():s("div",[s("content-placeholders",[s("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),s("content-placeholders-text",{attrs:{lines:3}})],1)],1),t._v(" "),t.hasOrder?s("div",[t._m(0),t._v(" "),s("hr"),t._v(" "),s("router-link",{attrs:{to:{name:"merchant",params:{merchantId:t.currentOrderDetails.merchant.friendlyId}}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-3"},[s("img",{staticClass:"img-fluid",attrs:{src:t.currentOrderDetails.merchant.image}})]),t._v(" "),s("div",{staticClass:"col-xs-9"},[s("h3",[s("b",[t._v(t._s(t.currentOrderDetails.merchant.name))])]),t._v(" "),s("h5",[t._v(t._s(t.currentOrderDetails.merchant.address))])])])]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12 text-xs-left"},[s("table",{staticClass:"table"},[s("tbody",[s("tr",[s("td",{attrs:{rowspan:"4"}},[s("img",{staticClass:"img-fluid",attrs:{src:t.orderQR}})]),t._v(" "),t._m(1),t._v(" "),s("td",[s("b",[t._v(t._s(t.orderIdSplit[0]))]),s("small",[t._v(" -"+t._s(t.orderIdSplit[1]))])])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("small",[t._v("Q- ")]),s("b",[t._v(t._s(parseInt(t.currentOrderDetails.q_no)))])])]),t._v(" "),s("tr",[t._m(3),t._v(" "),s("td",[t._v("\n                "+t._s(t.currentOrderDetails.orderDateTime)+"\n              ")])]),t._v(" "),s("tr",[t._m(4),t._v(" "),s("td",[t._v("\n                "+t._s(t.currentOrderDetails.latestStatus)+"\n              ")])])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-12"},[s("table",{staticClass:"table"},[t._m(5),t._v(" "),s("tbody",t._l(t.currentOrderDetails.items,function(e,r){return s("tr",{key:r},[s("td",[s("b",[t._v(t._s(e.name))]),s("br"),t._v(" "),s("span",{domProps:{innerHTML:t._s(e.additional.replace(/(\||,)/g,"-").replace("N/A","").replace(/\n/g,"<br>"))}})]),t._v(" "),s("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(e.value)))])])}),0),t._v(" "),s("tfoot",[s("tr",[s("td",{staticClass:"text-xs-right"},[t._v("Subtotal")]),t._v(" "),s("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(t.calcSubTotal())))])]),t._v(" "),s("tr",{staticClass:"font-weight-bold"},[s("td",{staticClass:"text-xs-right"},[t._v("Total")]),t._v(" "),s("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(t.calcTotal())))])])])]),t._v(" "),s("br"),t._v(" "),s("br")])])],1):t._e(),t._v(" "),t.isReportOrder&&t.hasOrder?s("div",[t._m(6)]):t._e(),t._v(" "),t.isCancelOrder&&t.hasOrder?s("div",[t._m(7)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Order Details")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("b",[this._v("Ref#")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("b",[this._v("STASHQ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("b",[this._v("Date")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("b",[this._v("Status")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("Item")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Total")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 text-xs-center"},[e("h1",[this._v("Order Report")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 text-xs-center"},[e("br"),this._v(" "),e("h1",[this._v("Cancel Order")]),this._v(" "),e("hr")])])}]};var fe=s("VU/8")(pe,_e,!1,function(t){s("ZrP9")},"data-v-2949c86c",null).exports;r.default.use(M.a);var ge=new M.a({routes:[{path:"/",redirect:"/home"},{name:"login",path:"/login",component:Ct},{name:"register",path:"/register",component:xt},{name:"home",path:"/home",component:Et},{name:"settings",path:"/settings",component:Nt,meta:{requiresAuth:!0}},{name:"profile",path:"/profile",component:Ot,meta:{requiresAuth:!0}},{name:"merchant",path:"/merchants/:merchantId",component:te,props:!0},{name:"merchantDeals",path:"/merchants/:merchantId/deals",component:re,props:!0},{name:"itemCustomisation",path:"/merchants/:merchantId/items/:itemId",component:me,props:!0},{name:"inbox",path:"/inbox",component:Qt,meta:{requiresAuth:!0}},{name:"wallet",path:"/wallet",component:Ht,meta:{requiresAuth:!0}},{name:"walletTopUp",path:"/wallet/topup",component:zt,meta:{requiresAuth:!0}},{name:"cart",path:"/cart",component:he,meta:{}},{name:"orderDetails",path:"/orders/:orderId",component:fe,meta:{requiresAuth:!0}},{name:"forget_password",path:"/forget_password",component:Lt},{name:"NotFound",path:"*",redirect:"/"}],scrollBehavior:function(t,e,s){return s||{x:0,y:0}}});ge.beforeEach(function(t,e,s){var r=t.matched.some(function(t){return t.meta.requiresAuth}),o=["login","register","forget_password"].includes(t.name);_t.commit(b,{root:!0});var a=_t.dispatch("auth/CHECK_AUTH");_t.commit(b,{root:!0}),console.log("isLogin",a,1==a,0==a),r?a.then(function(t){0==t&&s("login")}):o&&a.then(function(t){0==t?s():s("home")}).catch(function(t){alert("You are logged out"),console.log(t),s("login")}),s()});var Ce=ge,be=s("Eoz/"),we=s.n(be);"serviceWorker"in navigator&&!0&&navigator.serviceWorker.register("/service-worker.js").then(function(){console.log("Service Worker Registered!")}),console.log("window.navigator.standalone",window.navigator.standalone),o.a.color="rgba(255, 201, 51, 0.38)",o.a.zIndex=55,r.default.directive("ripple",o.a),r.default.component("VueElementLoading",n.a),r.default.use(c.a),r.default.use(u.a),r.default.use(h.a),r.default.use(p.default);r.default.use(d.a,{id:"UA-135031290-1",router:Ce,debug:{enabled:!1,sendHitTask:!0}}),r.default.config.productionTip=!1,Q.init(),r.default.filter("date",function(t){return we()(new Date(t),"MMMM D, YYYY")}),r.default.filter("error",function(t){return""+t[0]}),r.default.filter("capitalize",function(t){return t?(t=t.toString()).charAt(0).toUpperCase()+t.slice(1):""}),r.default.filter("currency",function(t){return"SGD "+parseFloat(t).toFixed(2)}),r.default.filter("2decimal",function(t){return""+parseFloat(t).toFixed(2)}),r.default.filter("floor",function(t){return""+Math.floor(parseFloat(t))}),r.default.filter("newLiner",function(t){return""+t.replace(/\n/g,"<br>")}),new r.default({el:"#app",router:Ce,store:_t,components:{App:$},template:"<App/>"})},NpPs:function(t,e){},RLYm:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("WEHx"),o=s("mCC8"),a=s("lcOp"),n={mixins:[r.mixin],directives:{Ripple:o.a,tooltip:a.VTooltip},data:function(){return{toggle:this.startOpened,pos:{},tooltipPosition:"left"}},props:{bgColor:{default:"#333333"},position:{default:"bottom-right"},positionType:{default:"fixed"},zIndex:{default:"999"},rippleShow:{default:!0},rippleColor:{default:"light"},mainIcon:{default:"add"},iconSize:{default:"medium"},mainTooltip:{default:null},fixedTooltip:{default:!1},tooltipTimeOutWhenStartOpened:{default:200},enableRotation:{default:!0},actions:{default:function(){return[]}},startOpened:{default:!1},toggleWhenAway:{default:!0}},computed:{actionIconSize:function(){switch(this.iconSize){case"small":return"md-18";case"medium":return"md-24";case"large":return"md-36";default:return"md-24"}},allowRotation:function(){return this.enableRotation&&this.actions&&this.actions.length},mainIconSize:function(){switch(this.iconSize){case"small":return"md-24";case"medium":return"md-36";case"large":return"md-48";default:return"md-36"}},paddingAmount:function(){switch(this.iconSize){case"small":return"28px";case"medium":return"32px";case"large":return"38px";default:return"32px"}},listPos:function(){return"top-right"===this.position||"top-left"===this.position?{top:"-20px",paddingTop:"20px"}:{bottom:"-20px",paddingBottom:"20px"}},transitionEnter:function(){return this.animation.enter},transitionLeave:function(){return this.animation.leave},animation:function(){return"top-right"===this.position||"top-left"===this.position?{enter:"animated quick fadeInDown",leave:"animated quick fadeOutUp"}:"bottom-right"===this.position||"bottom-left"===this.position?{enter:"animated quick fadeInUp",leave:"animated quick fadeOutDown"}:{enter:"animated fadeInUp",leave:"animated fadeOutDown"}},tooltipTrigger:function(){return this.fixedTooltip?"manual":"hover"}},methods:{tooltipPos:function(){"top-right"===this.position||"bottom-right"===this.position?this.tooltipPosition="left":this.tooltipPosition="right"},toParent:function(t){this.$emit(t),this.toggle=!1},away:function(){this.toggleWhenAway&&(this.toggle=!1)},setPosition:function(){switch(this.pos={},this.position){case"bottom-right":this.pos.right="5vw",this.pos.bottom="4vh";break;case"bottom-left":this.pos.left="5vw",this.pos.bottom="4vh";break;case"top-left":this.pos.left="5vw",this.pos.top="4vh";break;case"top-right":this.pos.right="5vw",this.pos.top="4vh";break;default:this.pos.right="5vw",this.pos.bottom="4vh"}},moveTransition:function(){var t=document.getElementById(this.position+"-wrapper"),e=document.getElementById(this.position+"-action");"top-right"===this.position||"top-left"===this.position?t.appendChild(e):t.insertBefore(e,t.childNodes[0])},showTooltip:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.toggle&&this.actions.length&&this.fixedTooltip&&setTimeout(function(){t.$refs.actions.forEach(function(e){t.toggle&&e._tooltip.show()})},e)},afterActionsTransitionEnter:function(){this.showTooltip()}},watch:{position:function(t){var e=this;this.setPosition(),this.$nextTick(function(){e.moveTransition(),e.tooltipPos()})}},mounted:function(){this.moveTransition()},created:function(){this.setPosition(),this.startOpened&&this.showTooltip(this.tooltipTimeOutWhenStartOpened)}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.away,expression:"away"}],staticClass:"fab-wrapper",style:[t.pos,{zIndex:t.zIndex},{position:t.positionType}],attrs:{id:t.position+"-wrapper"}},[s("div",{staticClass:"actions-container",style:t.listPos,attrs:{id:t.position+"-action"}},[s("transition",{attrs:{name:"fab-actions-appear","enter-active-class":t.transitionEnter,"leave-active-class":t.transitionLeave}},[s("ul",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}],staticClass:"fab-list"},[t._l(t.actions,function(e){return[s("transition",{attrs:{"enter-active-class":"animated quick zoomIn","leave-active-class":"animated quick zoomOut"},on:{"after-enter":t.afterActionsTransitionEnter}},[e.tooltip?[t.toggle?s("li",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.tooltip,placement:t.tooltipPosition,classes:"fab-tooltip",trigger:t.tooltipTrigger},expression:"{ content: action.tooltip, placement: tooltipPosition, classes: 'fab-tooltip', trigger: tooltipTrigger}"}],ref:"actions",refInFor:!0,staticClass:"pointer",style:{"background-color":e.color||t.bgColor},on:{click:function(s){return t.toParent(e.name)}}},[s("i",{class:[t.actionIconSize,"material-icons"]},[t._v(t._s(e.icon))])]):t._e()]:[t.toggle?s("li",{staticClass:"pointer",style:{"background-color":e.color||t.bgColor},on:{click:function(s){return t.toParent(e.name)}}},[s("i",{class:[t.actionIconSize,"material-icons"]},[t._v(t._s(e.icon))])]):t._e()]],2)]})],2)])],1),t._v(" "),t.rippleShow?[t.mainTooltip?[s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:"light"==t.rippleColor?"rgba(255, 255, 255, 0.35)":"",expression:"rippleColor == 'light' ? 'rgba(255, 255, 255, 0.35)' : ''"},{name:"tooltip",rawName:"v-tooltip",value:{content:t.mainTooltip,placement:t.tooltipPosition,classes:"fab-tooltip"},expression:"{ content: mainTooltip, placement: tooltipPosition, classes: 'fab-tooltip' }"}],staticClass:"fab-main pointer",style:{"background-color":t.bgColor,padding:t.paddingAmount},on:{click:function(e){t.toggle=!t.toggle}}},[s("i",{class:[t.mainIconSize,{rotate:t.toggle&&t.allowRotation},"material-icons main"]},[t._v(t._s(t.mainIcon))]),t._v(" "),s("i",{class:[t.mainIconSize,{rotate:t.toggle&&t.allowRotation},"material-icons close"]},[t._v("add")])])]:[s("div",{directives:[{name:"ripple",rawName:"v-ripple",value:"light"==t.rippleColor?"rgba(255, 255, 255, 0.35)":"",expression:"rippleColor == 'light' ? 'rgba(255, 255, 255, 0.35)' : ''"}],staticClass:"fab-main pointer",style:{"background-color":t.bgColor,padding:t.paddingAmount},on:{click:function(e){t.toggle=!t.toggle}}},[s("i",{class:[t.mainIconSize,{rotate:t.toggle&&t.allowRotation},"material-icons main"]},[t._v(t._s(t.mainIcon))]),t._v(" "),s("i",{class:[t.mainIconSize,{rotate:t.toggle&&t.allowRotation},"material-icons close"]},[t._v("add")])])]]:[t.mainTooltip?[s("div",{staticClass:"fab-main pointer",style:{"background-color":t.bgColor,padding:t.paddingAmount},attrs:{"v-tooltip":{content:t.mainTooltip,placement:t.tooltipPosition,classes:"fab-tooltip"}}},[s("i",{staticClass:"material-icons md-36 main",class:{rotate:t.toggle&&t.allowRotation}},[t._v(t._s(t.mainIcon))]),t._v(" "),s("i",{staticClass:"material-icons md-36 close",class:{rotate:t.toggle&&t.allowRotation}},[t._v("add")])])]:[s("div",{staticClass:"fab-main pointer",style:{"background-color":t.bgColor,padding:t.paddingAmount}},[s("i",{staticClass:"material-icons md-36 main",class:{rotate:t.toggle&&t.allowRotation}},[t._v(t._s(t.mainIcon))]),t._v(" "),s("i",{staticClass:"material-icons md-36 close",class:{rotate:t.toggle&&t.allowRotation}},[t._v("add")])])]]],2)},staticRenderFns:[]};var c=s("VU/8")(n,i,!1,function(t){s("/QwG"),s("XtVm")},"data-v-f9cfe6e4",null);e.default=c.exports},SnwN:function(t,e){},UgQl:function(t,e){},XtVm:function(t,e){},ZrP9:function(t,e){},a2QK:function(t,e){},eBT6:function(t,e){},mUoS:function(t,e){},oVvb:function(t,e){},ohmO:function(t,e){},qZRe:function(t,e){},uNPg:function(t,e){},vj0H:function(t,e){},wYNO:function(t,e){},xS3f:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a29c66b68acfd91a26be.js.map