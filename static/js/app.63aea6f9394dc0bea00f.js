webpackJsonp([1],{"/QwG":function(t,e){},"/yRs":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,o=(s=r("8ebl")).default||s,n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-street-view-pano-container"},[e("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),this._v(" "),this._t("default")],2)},staticRenderFns:[]};var a=r("VU/8")(o,n,!1,function(t){r("CjMs")},null,null);e.default=a.exports},"5ZbH":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,o=(s=r("hOwk")).default||s,n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-map-container"},[e("div",{ref:"vue-map",staticClass:"vue-map"}),this._v(" "),e("div",{staticClass:"vue-map-hidden"},[this._t("default")],2),this._v(" "),this._t("visible")],2)},staticRenderFns:[]};var a=r("VU/8")(o,n,!1,function(t){r("dtWn")},null,null);e.default=a.exports},"5cLx":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,o=(s=r("WgA/")).default||s,n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"flyaway"},[this._t("default")],2)])},staticRenderFns:[]},a=r("VU/8")(o,n,!1,null,null,null);e.default=a.exports},"AK+P":function(t,e){},Anlc:function(t,e){},AxTL:function(t,e){},CjMs:function(t,e){},Da7C:function(t,e){},GkH6:function(t,e){},H7Ly:function(t,e){},HyaE:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("7+uW"),o=r("sA6N"),n=r("AbOu"),a=r("oYt9"),i=r("WQHf"),c=r("eFvv"),l=r.n(c),u=r("IZMb"),m=r.n(u),d=r("OjAt"),h=r.n(d),v=r("AYPi"),p=r.n(v),_=r("A5Ul"),f=r.n(_),g=r("3It0"),C=r("Dd8w"),b=r.n(C),w=r("NYxO"),x="auth/SET_AUTH",y="auth/PURGE_AUTH",S="cart/NEW_CART",T="ui/overlayLoader/SWITCH",E={name:"GeneralHeader",data:function(){return{lastMessage:-1,timer:!1}},computed:b()({},Object(w.b)(["isAuthenticated","currentCart","currentUser"])),created:function(){this.refreshContent(),this.timer=setInterval(this.refreshContent,3e4)},destroyed:function(){console.log(Date(),"Removing auto refresh")},methods:{refreshContent:function(){var t=this;if(console.log(Date(),"Current user unread inbox from header",this.currentUser.lastMessage,this.lastMessage),this.lastMessage<0||void 0==!this.lastMessage)return console.log(Date(),"Setting last message because 0 init",this.currentUser.lastMessage),void(void 0!=this.currentUser.lastMessage?this.lastMessage=this.currentUser.lastMessage:this.lastMessage=-1);this.currentUser.lastMessage>this.lastMessage&&(this.$swal({type:"info",title:"New message",showCancelButton:!1,confirmButtonText:"View now",showCloseButton:!0,showLoaderOnConfirm:!0}).then(function(e){if(!e.value)return t.$ga.event("home","inbox","new_message",!1),0;t.$ga.event("home","inbox","new_message",!0),t.$router.push({name:"inbox"})}),this.lastMessage=this.currentUser.lastMessage)},cancelAutoUpdate:function(){clearInterval(this.timer)}}},O={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar navbar-default navbar-fixed-top"},[r("div",{staticClass:"container"},[r("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[t._v("\n      STASH\n    ")]),t._v(" "),t.isAuthenticated?r("ul",{staticClass:"nav navbar-nav pull-xs-right"},[r("li",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{"active-class":"active",exact:"",to:{name:"wallet"}}},[r("i",{staticClass:"ion-cash"}),t._v("  "),r("b",[t._v(t._s(t._f("currency")(t.currentUser.wallet.value)))])])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{"active-class":"active",exact:"",to:{name:"inbox"}}},[r("b",[t.currentUser.unreadInbox>0?r("span",[r("font",{attrs:{color:"red"}},[r("i",{staticClass:"ion-load-b"})]),t._v("  ")],1):t._e(),r("i",{staticClass:"ion-android-mail iconBigger"})])])],1),t._v(" "),t.currentCart.items.length>=1?r("li",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{"active-class":"active",exact:"",to:{name:"cart"}}},[r("b",{staticClass:"currentCart"},[r("i",{staticClass:"ion-android-cart"})])])],1):t._e()]):t._e(),t._v(" "),t.isAuthenticated?t._e():r("ul",{staticClass:"nav navbar-nav pull-xs-right"},[r("li",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{"active-class":"active",exact:"",to:{name:"login"}}},[r("i",{staticClass:"ion-cash"}),t._v("  "),r("b",[t._v("SGD 0.00")])])],1),t.currentCart.items.length>=1?r("li",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{"active-class":"active",exact:"",to:{name:"cart"}}},[r("b",{staticClass:"currentCart"},[r("i",{staticClass:"ion-android-cart"})])])],1):t._e()])],1)])},staticRenderFns:[]};var k=r("VU/8")(E,O,!1,function(t){r("QnNq")},"data-v-b17ea7d4",null).exports,I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("footer",[e("div",{staticClass:"container"},[e("router-link",{staticClass:"logo-font",attrs:{to:{name:"home",params:{}}}},[this._v("\n        STASH™\n      ")]),this._v(" "),e("span",{staticClass:"attribution"},[this._v("\n        © 2019 STASH Technologies™. All rights reserved.\n      ")])],1)])])},staticRenderFns:[]},A=r("VU/8")({name:"GeneralFooter"},I,!1,null,null,null).exports,$=r("GVL/"),U={name:"App",components:{GeneralHeader:k,GeneralFooter:A,fab:r.n($).a},data:function(){return{locationCoord:{lat:0,lon:0},isLocationAvailable:!1,overlayLoaderShow:!0,fabMainIcon:"menu",fabBgColor:"#ffba00",fabPosition:"bottom-right",fabActions:[{name:"gotoHome",icon:"home"},{name:"gotoQRScanner",icon:"camera_alt"},{name:"gotoSettings",icon:"settings"},{name:"gotoCart",icon:"shopping_cart"}],fabActionsWOCart:[{name:"gotoHome",icon:"home"},{name:"gotoQRScanner",icon:"camera_alt"},{name:"gotoSettings",icon:"settings"}]}},mounted:function(){this.refreshContent()},computed:b()({},Object(w.b)(["currentCart"]),Object(w.c)({overlayLoader:function(t){return t.overlayLoader.overlayLoader}})),methods:{gotoQRScanner:function(){this.$ga.event("home","FAB","qr_scanner",1),this.$router.push({name:"qrScanner"})},gotoWallet:function(){this.$ga.event("home","FAB","nav_wallet",1),console.log("Fab clicked","wallet"),this.$router.push({name:"wallet"})},gotoCart:function(){this.$ga.event("home","FAB","nav_cart",1),console.log("Fab clicked","cart"),this.$router.push({name:"cart"})},gotoHome:function(){this.$ga.event("home","FAB","nav_home",1),console.log("Fab clicked","home"),this.$router.push({name:"home"})},gotoMessage:function(){this.$ga.event("home","FAB","nav_inbox",1),console.log("Fab clicked","inbox"),this.$router.push({name:"inbox"})},gotoSettings:function(){this.$ga.event("home","FAB","nav_settings",1),console.log("Fab clicked","settings"),this.$router.push({name:"settings"})},refreshContent:function(){this.isLocationAvailable=!0,this.geolocation()},geolocation:function(){navigator.geolocation.getCurrentPosition(this.buildUrl,this.geoError)},buildUrl:function(t){this.locationCoord.lat=t.coords.latitude,this.locationCoord.lon=t.coords.longitude,this.$store.commit("home/SET_CURRENT_LOCATION",{lat:this.locationCoord.lat,lon:this.locationCoord.lon},{root:!0})},geoError:function(t){switch(this.error=t.code,this.isLocationAvailable=!1,t.code){case t.PERMISSION_DENIED:this.error="User denied the request for Geolocation.";break;case t.POSITION_UNAVAILABLE:this.error="Location information is unavailable.";break;case t.TIMEOUT:this.error="The request to get user location timed out.";break;case t.UNKNOWN_ERROR:this.error="An unknown error occurred."}console.log(this.error)},getLocation:function(){return GeoService.getCurrentCoordinates().then(function(t){return{lat:t.latitude,long:t.longitude}}).catch(function(t){return console.log(t),null})}}},R={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("vue-element-loading",{attrs:{active:t.overlayLoader,"is-full-screen":!0,color:"#FFBA00",spinner:"spinner",size:"64"}}),t._v(" "),r("GeneralHeader"),t._v(" "),r("div",{staticClass:"container_"},[t.isOnline?t._e():r("div",{staticClass:"container"},[t._m(0),t._v(" "),t._m(1)]),t._v(" "),t.isLocationAvailable?t._e():r("div",{staticClass:"container"},[t._m(2),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:t.refreshContent}},[t._v("Refresh content")])])])]),t._v(" "),r("transition",{attrs:{name:"component-fade",mode:"out-in",duration:{enter:150,leave:200}}},[t.isOnline&&t.isLocationAvailable?r("router-view"):t._e()],1),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),t.currentCart.items.length>0?r("fab",{attrs:{"main-icon":t.fabMainIcon,actions:t.fabActions,position:t.fabPosition,"bg-color":t.fabBgColor},on:{gotoQRScanner:t.gotoQRScanner,gotoWallet:t.gotoWallet,gotoCart:t.gotoCart,gotoHome:t.gotoHome,gotoMessage:t.gotoMessage,gotoSettings:t.gotoSettings}}):t._e(),t._v(" "),t.currentCart.items.length<=0?r("fab",{attrs:{"main-icon":t.fabMainIcon,actions:t.fabActionsWOCart,position:t.fabPosition,"bg-color":t.fabBgColor},on:{gotoQRScanner:t.gotoQRScanner,gotoWallet:t.gotoWallet,gotoCart:t.gotoCart,gotoHome:t.gotoHome,gotoMessage:t.gotoMessage,gotoSettings:t.gotoSettings}}):t._e()],1),t._v(" "),r("GeneralFooter")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Internet not found")]),this._v(" "),e("p",[this._v("\n            Looks like we weren't able to connect to our server. Please try again in a few minutes.\n          ")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("button",{staticClass:"btn btn-lg btn-primary btn-block"},[this._v("Try again")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Location not found")]),this._v(" "),e("p",[this._v("\n            Please turn on Location Services. For the best experience, please set it to High Accuracy\n          ")]),this._v(" "),e("hr")])])}]};var N,P,M,B,D,j,L,F,V=r("VU/8")(U,R,!1,function(t){r("yzve")},"data-v-5505bdce",null).exports,H=r("/ocq"),q=r("bOdI"),G=r.n(q),z=r("//Fk"),W=r.n(z),Q=r("mtWM"),Y=r.n(Q),X=r("Rf8U"),K=r.n(X),Z=function(){return window.localStorage.getItem("id_STASH_TOKEN")},J=function(t){window.localStorage.setItem("id_STASH_TOKEN",t)},tt=function(){console.log("Token destroyed"),window.localStorage.removeItem("id_STASH_TOKEN")},et="https://api.stash.asia/v3/",rt={init:function(){s.default.use(K.a,Y.a),s.default.axios.defaults.baseURL=et,s.default.axios.defaults.headers.common["Cache-Control"]="no-cache",s.default.axios.defaults.headers.common["STASH-API-V2"]=1},setHeader:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s.default.axios.defaults.headers.common.Authorization=t?"Token "+Z():""},query:function(t,e){var r=this;return s.default.axios.get(t,e).catch(function(t){throw"Error: Network Error"!=t&&500!=t.response.status||r.$swal.fire({type:"warning",text:"Looks like we weren't able to connect to our server. Please try again in a few minutes.",showConfirmButton:!1,showCloseButton:!0}),401==t.response.status&&r.$swal.fire({type:"info",text:"Please login to continue",showConfirmButton:!1,showCloseButton:!0}),t.response?console.log("error response",t.response.status):t.request?console.log("error Request",t.request):console.log("error Error",t.message),t})},get:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return console.log(t+"/"+r),s.default.axios.get(t,{}).catch(function(t){throw"Error: Network Error"!=t&&500!=t.response.status||e.$swal.fire({type:"warning",text:"Looks like we weren't able to connect to our server. Please try again in a few minutes.",showConfirmButton:!1,showCloseButton:!0}),401==t.response.status&&e.$swal.fire({type:"info",text:"Please login to continue",showConfirmButton:!1,showCloseButton:!0}),t.response?console.log("error response",t.response.status):t.request?console.log("error Request",t.request):console.log("error Error",t.message),t})},post:function(t,e){var r=this;return s.default.axios.post(""+t,e).catch(function(t){throw"Error: Network Error"!=t&&500!=t.response.status||r.$swal.fire({type:"warning",text:"Looks like we weren't able to connect to our server. Please try again in a few minutes.",showConfirmButton:!1,showCloseButton:!0}),401==t.response.status&&r.$swal.fire({type:"info",text:"Please login to continue",showConfirmButton:!1,showCloseButton:!0}),t.response?console.log("error response",t.response.status):t.request?console.log("error Request",t.request):console.log("error Error",t.message),t})},update:function(t,e,r){var o=this;return s.default.axios.put(t+"/"+e,r).catch(function(t){throw"Error: Network Error"!=t&&500!=t.response.status||o.$swal.fire({type:"warning",text:"Looks like we weren't able to connect to our server. Please try again in a few minutes.",showConfirmButton:!1,showCloseButton:!0}),401==t.response.status&&o.$swal.fire({type:"info",text:"Please login to continue",showConfirmButton:!1,showCloseButton:!0}),t.response?console.log("error response",t.response.status):t.request?console.log("error Request",t.request):console.log("error Error",t.message),t})},put:function(t,e){var r=this;return s.default.axios.put(""+t,e).catch(function(t){throw"Error: Network Error"!=t&&500!=t.response.status||r.$swal.fire({type:"warning",text:"Looks like we weren't able to connect to our server. Please try again in a few minutes.",showConfirmButton:!1,showCloseButton:!0}),401==t.response.status&&r.$swal.fire({type:"info",text:"Please login to continue",showConfirmButton:!1,showCloseButton:!0}),t.response?console.log("error response",t.response.status):t.request?console.log("error Request",t.request):console.log("error Error",t.message),t})},delete:function(t){var e=this;return s.default.axios.delete(t).catch(function(t){throw"Error: Network Error"!=t&&500!=t.response.status||e.$swal.fire({type:"warning",text:"Looks like we weren't able to connect to our server. Please try again in a few minutes.",showConfirmButton:!1,showCloseButton:!0}),401==t.response.status&&e.$swal.fire({type:"info",text:"Please login to continue",showConfirmButton:!1,showCloseButton:!0}),t.response?console.log("error response",t.response.status):t.request?console.log("error Request",t.request):console.log("error Error",t.message),t})}},st={errors:null,user:{id:"",username:"",email:"",wallet:{ccy:"",value:0},token:"",lastTransaction:[]},isAuthenticated:!!Z()},ot={currentUser:function(t){return console.log("currentUser()",t.user),t.user},isAuthenticated:function(t){return t.isAuthenticated}},nt=(N={},G()(N,"auth/LOGIN",function(t,e){return rt.setHeader(!1),console.log("Logging user in"),new W.a(function(r){rt.post("users/login",{email:e.email.trim(),password:e.password}).then(function(e){var s=e.data;console.log("login return",s),t.commit(x,{user:s.user,fullLoad:!0}),r(s)}).catch(function(t){console.log("LOGIN",t),r(!1)})})}),G()(N,"auth/UPDATE_PASSWORD",function(t,e){return rt.setHeader(!0),console.log("Logging user in"),rt.post("users/update/password",{data_update:"password",old_password:e.password_old,p1:e.password_1,p2:e.password_2})}),G()(N,"auth/FORGET_PASSWORD_REQUEST",function(t,e){return rt.setHeader(!1),rt.post("users/forgetpassword",{email:e})}),G()(N,"auth/LOGOUT",function(t){rt.setHeader(),new W.a(function(e){rt.query("users/logout",{}).then(function(r){var s=r.data;t.commit(y),e(s)})})}),G()(N,"auth/REGISTER",function(t,e){return rt.setHeader(!1),rt.post("users",e)}),G()(N,"auth/CHECK_AUTH",function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={};if(console.log("Checking auth withTransactions",e,st.user),e&&(r={withTransactions:1}),!Z())return console.log("Active token not found"),!1;rt.setHeader(),new W.a(function(s){rt.query("users/checktoken",{params:r}).then(function(r){var o=r.data;void 0===o&&s(!1),e?t.commit(x,{user:o,fullLoad:!0}):t.commit(x,{user:o,fullLoad:!1}),s(!0)}).catch(function(e){throw t.commit(y),e})})}),G()(N,"auth/UPDATE_USER",function(t,e){var r={email:e.email,username:e.username};return password&&(r.password=password),rt.put("user",r).then(function(e){var r=e.data;return t.commit(x,{user:r.user,fullLoad:!0}),r})}),N),at=(P={},G()(P,"setError",function(t,e){t.errors=e}),G()(P,x,function(t,e){console.log("SET_AUTH",e),t.isAuthenticated=!0,e.fullLoad?(console.log("FullLoad",e.user),t.user=e.user):(console.log("Update user not full load",e.user),t.user.wallet=e.user.wallet,t.user.token=e.user.token,t.user.unreadInbox=e.user.unreadInbox,t.user.lastMessage=e.user.lastMessage),J(t.user.token),t.errors={}}),G()(P,y,function(t){console.log("Purging auth info"),t.isAuthenticated=!1,t.user=!1,t.errors={},tt(),rt.setHeader(!1)}),P),it={state:st,actions:nt,mutations:at,getters:ot},ct=r("mvHQ"),lt=r.n(ct),ut={currentCart:function(t){return t.currentCart},tempItem:function(t){return t.currentCart.tempItem},calcSubTotalStore:function(t){var e=0;console.log("currentCart",t.currentCart,t.currentCart.items.length,"items");for(var r=0;r<t.currentCart.items.length;r++)console.log(e,t.currentCart.items[r].cartValue),e+=parseFloat(t.currentCart.items[r].cartValue);return t.currentCart.subTotalValue=e,e},calcDiscountStore:function(t){var e=t.currentCart.promotion,r=0;if(!e){console.log("!!!! No voucher found");for(var s=0,o=0;o<t.currentCart.items.length;o++)s+=parseFloat(t.currentCart.items[o].cartValue);return t.currentCart.discountValue=s*(t.currentCart.merchant.currentDiscount/100),t.currentCart.merchant.currentDiscount}if(console.log("calcDiscount",e,"items in cart",t.currentCart.items.length),e.prerequisite_subtotal_range>0&&t.currentCart.subTotalValue<e.prerequisite_subtotal_range)throw"NOT_ENOUGH_MIN";if(e.value.amount<=0&&"BOGO"!==e.value.type)throw"INVALID_VOUCHER";if("BOGO"===e.value.type&&t.currentCart.items.length<=1)throw"NOT_ENOUGH_QTY";if("BOGO"===e.value.type){console.log("BOGO hit"),r=999;for(var n=0;n<t.currentCart.items.length;n++)r=Math.min(r,parseFloat(t.currentCart.items[n].cartValue))}else if("PERCENTAGE"===e.value.type){if(console.log("PERCENTAGE called",e.value.allocation),parseFloat(e.value.amount)<=0||parseFloat(e.value.amount)>1)throw"INVALID_VOUCHER";if("EACH"===e.value.allocation){console.log("PERCENTAGE, EACH"),r=0;for(var a=0;a<t.currentCart.items.length;a++)r+=e.value.amount*parseFloat(t.currentCart.items[a].cartValue)}else{if("ACROSS"!==e.value.allocation)throw"INVALID_VOUCHER";console.log("PERCENTAGE, ACROSS"),r=e.value.amount*t.currentCart.subTotalValue}t.currentCart.promotion.cartValue=r,t.currentCart.discountValue=r}else{if("FIXED_AMOUNT"!==e.value.type)throw t.currentCart.promotion=!1,"INVALID_VOUCHER";if(console.log("FIXED_AMOUNT called",e.value.allocation),"EACH"===e.value.allocation)console.log("FIXED_AMOUNT, EACH",parseFloat(e.value.amount),t.currentCart.items.length,parseFloat(e.value.amount)*t.currentCart.items.length),r=parseFloat(e.value.amount)*t.currentCart.items.length;else{if("ACROSS"!==e.value.allocation)throw t.currentCart.promotion=!1,"INVALID_VOUCHER";console.log("FIXED_AMOUNT, ACROSS"),r=e.value.amount}}return r=Math.floor(100*Math.min(r,t.currentCart.subTotalValue))/100,console.log("discountValue",r),t.currentCart.promotion=e,t.currentCart.promotion.cartValue=r,t.currentCart.discountValue=r,r},calcTaxStore:function(t){t.currentCart.taxValue=0;var e=0;return console.log("calcTaxStore",t.currentCart.subTotalValue,parseFloat(t.currentCart.merchant.taxPercent)),e=t.currentCart.merchant.taxPercent>0?(t.currentCart.subTotalValue-t.currentCart.discountValue)*(parseFloat(t.currentCart.merchant.taxPercent)/100):0,t.currentCart.taxValue=e,t.currentCart.taxValue},calcTotalStore:function(t){return t.currentCart.totalValue=t.currentCart.subTotalValue-t.currentCart.discountValue+t.currentCart.taxValue,t.currentCart.totalValue}},mt={state:{errors:null,currentCart:{merchant:G()({id:"",name:"",address:"",friendlyId:"",image:"",currentDiscount:0,availableCollectionMethod:0},"availableCollectionMethod",0),collection:{method:"-1",timing:"-1",tableNumber:0},items:[],notes:"",promotion:{id:"",code:"",name:"",type:"",value:""},tempItem:{},subTotalValue:0,discountValue:0,taxValue:0,totalValue:0}},actions:{},mutations:(M={},G()(M,"cart/SET_TEMP_ITEM",function(t,e){t.currentCart.tempItem=e}),G()(M,"cart/REMOVE_TEMP_ITEM",function(t){t.currentCart.tempItem={}}),G()(M,"cart/ADD_CUSTOM_TO_TEMP_ITEM",function(t,e){t.currentCart.tempItem.customisationApplied.push(e)}),G()(M,"cart/REMOVE_CUSTOM_FROM_TEMP_ITEM",function(t,e){for(var r=0;r<t.currentCart.tempItem.customisationApplied.length;r++)t.currentCart.tempItem.customisationApplied[r]===e&&t.currentCart.tempItem.customisationApplied.splice(r,1)}),G()(M,"cart/ADD_TO_CART",function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("ADD_TO_CART - START -",t.currentCart,e);var r=!1;e?(console.log("ADD_TO_CART - ADDING - item param supplied",e),r=e):(console.log("ADD_TO_CART - ADDING - item param not supplied, adding tempItem",t.currentCart.tempItem),r=JSON.parse(lt()(t.currentCart.tempItem)),t.currentCart.tempItem={}),r.cartValue=100;for(var s=parseFloat(r.price),o=0;o<r.customisationApplied.length;o++)s+=parseFloat(r.customisationApplied[o].price);r.cartValue=s,t.currentCart.items.push(r);try{ut.calcSubTotalStore(t),ut.calcDiscountStore(t),ut.calcTaxStore(t)}catch(e){throw console.log("error found",e),t.currentCart.promotion=!1,e}console.log("ADD_TO_CART - END -",t.currentCart)}),G()(M,"cart/SET_VOUCHER",function(t,e){if(null!==e){console.log("Voucher applied",e),t.currentCart.promotion=e;try{ut.calcSubTotalStore(t),ut.calcDiscountStore(t),ut.calcTaxStore(t)}catch(e){throw console.log("error found",e),t.currentCart.promotion=!1,e}}else t.currentCart.promotion=!1,t.currentCart.discountValue=0;console.log("Current cart after voucher",t.currentCart)}),G()(M,"cart/SET_COLLECTION_METHOD",function(t,e){console.log("Collection method changed")}),G()(M,"cart/REMOVE_FROM_CART",function(t,e){console.log("this",t.currentCart.items),t.currentCart.items.splice(e,1),console.log("that",t.currentCart.items),t.errors={};try{ut.calcDiscountStore(t)}catch(e){throw console.log("error found",e),t.currentCart.promotion=!1,t.currentCart.discountValue=0,e}}),G()(M,S,function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.currentCart.merchant;t.currentCart={items:[],notes:"",tempItem:{},promotion:!1,collection:{method:"-1",timing:"-1",tableNumber:0},subTotalValue:0,discountValue:0,taxValue:0,totalValue:0},t.currentCart.merchant=0==e?r:e,console.log("NEW currentCart",t.currentCart)}),M),getters:ut},dt=r("Xxa5"),ht=r.n(dt),vt=r("exGp"),pt=r.n(vt),_t=function(t,e){return rt.query("home/aroundme",{params:e})},ft=function(t){return rt.query("merchants",{params:{id:t}})},gt=b()({},{merchant:null}),Ct=G()({},"merchant/FETCH_MERCHANT",function(t,e){var r=this;return pt()(ht.a.mark(function s(){var o,n;return ht.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log("FETCH_MERCHANT",e,gt.merchant),!gt.merchant){r.next=16;break}if(console.log("Merchant exist"),gt.merchant.friendlyId!==e){r.next=13;break}if(console.log("Same Merchant found"),!(Math.round((new Date-gt.merchant.lastFetched)%864e5%36e5/6e4)>=5)){r.next=9;break}console.log("Same Merchant expired at least (5 minutes expiration), fetching new info"),r.next=11;break;case 9:return console.log("Same Merchant not expired no action required"),r.abrupt("return");case 11:r.next=14;break;case 13:console.log("Same Merchant not found");case 14:r.next=17;break;case 16:console.log("Merchant not exist");case 17:return r.next=19,ft(e);case 19:o=r.sent,n=o.data,t.commit("home/SET_MERCHANT",n.merchant);case 22:case"end":return r.stop()}},s,r)}))()}),bt=(B={},G()(B,"home/SET_MERCHANT",function(t,e){var r=e;r.lastFetched=new Date;for(var s=0;s<r.menu.length;s++)for(var o=0;o<r.menu[s].menuList.length;o++)r.menu[s].isSelected=!1;t.merchant=r}),G()(B,"merchant/SET_PERSISTENT_EXPANDED_MENU_CATEGORY",function(t,e){for(var r=0;r<t.merchant.menu.length;r++)for(var s=0;s<t.merchant.menu[r].menuList.length;s++)if(t.merchant.menu[r].name==e)return void(t.merchant.menu[r].isSelected=!t.merchant.menu[r].isSelected)}),B),wt={state:gt,actions:Ct,mutations:bt,getters:{merchant:function(t){return t.merchant}}},xt=function(){return rt.query("inbox",{})},yt=function(t){return rt.query("inbox/get",{params:{id:t}})},St=function(t){return rt.post("inbox/delete",{id:t})},Tt={state:b()({},{inbox:[],currentMessage:{}}),actions:(D={},G()(D,"inbox/FETCH_INBOX",function(t){var e=this;return pt()(ht.a.mark(function r(){var s,o;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Date(),"Inbox fetching"),e.next=3,xt();case 3:return s=e.sent,o=s.data,t.commit("inbox/SET_INBOX",o.messages),e.abrupt("return",o);case 7:case"end":return e.stop()}},r,e)}))()}),G()(D,"inbox/FETCH_MESSAGE",function(t,e){var r=this;return pt()(ht.a.mark(function s(){var o,n;return ht.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(Date(),"FETCH_MESSAGE",e),r.next=3,yt(e);case 3:return o=r.sent,n=o.data,t.commit("inbox/SET_MESSAGE",n.message),r.abrupt("return",n);case 7:case"end":return r.stop()}},s,r)}))()}),G()(D,"inbox/DELETE_MESSAGE",function(t,e){var r=this;return pt()(ht.a.mark(function t(){var s,o;return ht.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,St(e);case 2:return s=t.sent,o=s.data,t.abrupt("return",o);case 5:case"end":return t.stop()}},t,r)}))()}),D),mutations:(j={},G()(j,"inbox/SET_INBOX",function(t,e){console.log(Date(),"Inbox fetched",e),t.inbox=e}),G()(j,"inbox/SET_MESSAGE",function(t,e){t.currentMessage=e}),j),getters:{getCurrentMessage:function(t){return t.currentMessage},getInbox:function(t){return t.inbox}}},Et=b()({},{merchants:[],isLoadingMerchant:!0,coordinate:{lat:null,lon:null}}),Ot=G()({},"merchant/FETCH_MERCHANTS",function(t){var e=this;return pt()(ht.a.mark(function r(){var s,o;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t("",{lat:Et.coordinate.lat,lng:Et.coordinate.lon});case 2:return s=e.sent,o=s.data,console.log(Date(),"Fetched home",o),t.commit("home/FETCH_MERCHANTS_END",o.merchants),t.commit(x,{user:o.user,fullLoad:!1}),e.abrupt("return",o);case 8:case"end":return e.stop()}},r,e)}))()}),kt=(L={},G()(L,"home/FETCH_MERCHANTS_END",function(t,e){t.merchants=e,t.isLoadingMerchant=!1}),G()(L,"home/SET_CURRENT_LOCATION",function(t,e){t.coordinate={lat:e.lat,lon:e.lon}}),L),It={state:Et,actions:Ot,mutations:kt,getters:{merchants:function(t){return t.merchants},isLoadingMerchant:function(t){return t.isLoadingMerchant}}},At={query:function(t,e){return console.log("params",e),rt.query("orders",{params:e})},create:function(t){return rt.post("orders/create",t)},get:function(t){return rt.query("orders",{params:{orderId:t}})},update:function(t,e){return rt.update("orders",t,{order:e})}},$t=(r("o/zv"),{currentOrderDetails:{}}),Ut=G()({},"order/FETCH_ORDER_DETAILS",function(t,e){var r=this;return pt()(ht.a.mark(function s(){var o,n;return ht.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,At.get(e);case 2:o=r.sent,(n=o.data).order.orderId=e,t.commit("order/SET_CURRENT_ORDER_DETAILS",n.order);case 6:case"end":return r.stop()}},s,r)}))()}),Rt={currentOrderDetails:function(){return $t.currentOrderDetails},orderIdSplit:function(){var t=$t.currentOrderDetails.orderId.split("-"),e=t[0];return t.shift(),[e,t.join("-")]},orderQR:function(){return"https://chart.googleapis.com/chart?cht=qr&chs=200x200&chld=H|1&choe=UTF-8&chl="+$t.currentOrderDetails.orderId},hasOrder:function(){return $t.currentOrderDetails.hasOwnProperty("orderId")}},Nt=G()({},"order/SET_CURRENT_ORDER_DETAILS",function(t,e){t.currentOrderDetails=e,console.log("SET_CURRENT_ORDER_DETAILS",e)}),Pt={state:$t,actions:Ut,mutations:Nt,getters:Rt},Mt={state:{overlayLoader:!1},actions:{},mutations:(F={},G()(F,"ui/overlayLoader/SET_ON",function(t){t.overlayLoader=!0}),G()(F,"ui/overlayLoader/SET_OFF",function(t){t.overlayLoader=!1}),G()(F,T,function(t){console.log("Switching overlay current state",t.overlayLoader),t.overlayLoader=!t.overlayLoader}),F),getters:{}};s.default.use(w.a);var Bt=new w.a.Store({modules:{auth:it,cart:mt,merchant:wt,inbox:Tt,home:It,order:Pt,overlayLoader:Mt}}),Dt={name:"viewLogin",data:function(){return{email:null,password:null,isFacebookLogin:!1,isGoogleLogin:!1}},methods:{onSubmit:function(){var t=this;this.$store.commit(T,{root:!0}),this.$store.dispatch("auth/LOGIN",{email:this.email,password:this.password}).then(function(e){console.log("dispatched login",e),t.$store.commit(T,{root:!0}),e?(console.log("login data",e),e.user.isTempPassword?t.$router.push({name:"passwordUpdate"}):t.$router.push({name:"home"})):t.$swal.fire({type:"warning",text:"No account found, please sign up for an account",showConfirmButton:!1,showCloseButton:!0})})},switchFbLoginForm:function(){this.isFacebookLogin=!this.isFacebookLogin},switchGoogleLoginForm:function(){this.isGoogleLogin=!this.isGoogleLogin}},computed:b()({},Object(w.c)({errors:function(t){return t.auth.errors}}))},jt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{},[t.isFacebookLogin?t._e():r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("h1",{staticClass:"text-xs-left"},[t._v("Sign in")]),t._v(" "),r("p",{staticClass:"text-xs-left"},[r("router-link",{attrs:{to:{name:"register"}}},[t._v("\n            Need an account?\n          ")])],1),t._v(" "),t.errors?r("ul",{staticClass:"error-messages"},t._l(t.errors,function(e,s){return r("li",{key:s},[t._v(t._s(s)+" "+t._s(t._f("error")(e)))])}),0):t._e(),t._v(" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.email,t.password)}}},[r("fieldset",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),r("fieldset",{staticClass:"form-group"},[r("input",{directives:[{name:"ripple",rawName:"v-ripple"},{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),r("fieldset",{staticClass:"form-group"},[r("router-link",{attrs:{to:{name:"forget_password",params:{}}}},[t._v("\n              or click here to reset password\n            ")])],1)])])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("button",{staticClass:"btn btn-lg btn-block btn-primary",on:{click:function(e){return t.onSubmit()}}},[t._v("\n          Sign in\n        ")]),t._v(" "),r("br")])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("button",{staticClass:"btn btn-lg btn-block btn-primary googleLoginButton",on:{click:function(e){return t.switchFbLoginForm()}}},[t._v("\n          Google Login\n        ")]),t._v(" "),r("br")])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("button",{staticClass:"btn btn-lg btn-block btn-primary fbLoginButton",on:{click:function(e){return t.switchFbLoginForm()}}},[t._v("\n          Facebook Login\n        ")])])])]),t._v(" "),t.isFacebookLogin?r("div",{staticClass:"container"},[t._m(0),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-6"},[r("br"),t._v(" "),r("button",{staticClass:"btn btn-lg btn-primary",on:{click:function(e){return t.switchFbLoginForm()}}},[t._v("Back to login page")])]),t._v(" "),r("div",{staticClass:"col-xs-6"},[r("br"),t._v(" "),r("router-link",{staticClass:"btn btn-lg",attrs:{to:{name:"forget_password",params:{}}}},[t._v("\n          or reset password\n        ")])],1)])]):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("br"),t._v(" "),r("h1",{staticClass:"text-xs-left"},[t._v("Social Login")]),t._v(" "),r("hr"),t._v(" "),r("p",[t._v("\n          Social login has been deactivated in our system. Below the steps to acquire your account:\n        ")]),t._v(" "),r("p",[r("ol",{staticClass:"fbLoginForgetPassword"},[r("li",[t._v("\n              Click reset password below\n            ")]),t._v(" "),r("li",[t._v("\n              Insert your email address used for your Social login\n            ")]),t._v(" "),r("li",[t._v("\n              Click Submit\n            ")]),t._v(" "),r("li",[t._v("\n              A temporary password will be sent to your address.\n            ")])])])])])}]};var Lt=r("VU/8")(Dt,jt,!1,function(t){r("xgAl")},null,null).exports,Ft={name:"viewRegister",data:function(){return{username:"",email:"",password:"",gender:""}},computed:b()({},Object(w.c)({errors:function(t){return t.auth.errors}})),methods:{onSubmit:function(){var t=this;this.$store.commit(T,{root:!0}),this.$store.dispatch("auth/REGISTER",{email:this.email,password:this.password,name:this.username,gender:this.gender}).then(function(){t.$store.commit(T,{root:!0}),t.$swal.fire({type:"success",text:"Registration success, please login to your account now",showConfirmButton:!1,showCloseButton:!0}),t.$router.push({name:"login"})}).catch(function(e){if(t.$store.commit(T,{root:!0}),console.log("alert error",e,"|",e.response.status),409===e.response.status)return t.$ga.event("register","account_found","ask",!0),void t.$swal({title:"Account found?",text:"Login or forget your password?",type:"warning",showCancelButton:!0,confirmButtonText:"Login",cancelButtonText:"Forget Password",showLoaderOnConfirm:!0}).then(function(e){e.value?(t.$ga.event("register","account_found","go_to_login",!0),t.$router.push({name:"login"})):(t.$ga.event("register","account_found","go_to_forget_password",!0),t.$router.push({name:"forget_password"}))});t.$swal.fire({type:"warning",text:"Unable to reach server, please check again in a few minutes.",showConfirmButton:!1,showCloseButton:!0})})}}},Vt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"auth-page"},[r("div",{staticClass:"container page"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("h1",{staticClass:"text-xs-left"},[t._v("Sign up")]),t._v(" "),r("p",{staticClass:"text-xs-left"},[r("router-link",{attrs:{to:{name:"login"}}},[t._v("\n            Have an account?\n          ")])],1),t._v(" "),t.errors?r("ul",{staticClass:"error-messages"},t._l(t.errors,function(e,s){return r("li",{key:s},[t._v(t._s(s)+" "+t._s(t._f("error")(e)))])}),0):t._e(),t._v(" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("fieldset",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),r("fieldset",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),r("fieldset",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),r("fieldset",{staticClass:"form-group form-inline"},[r("div",{staticClass:"form-check form-check-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"form-check-input",attrs:{type:"radio",name:"gender",id:"genderMale",value:"1"},domProps:{checked:t._q(t.gender,"1")},on:{change:function(e){t.gender="1"}}}),t._v(" "),t._m(0),t._v("\n               \n               \n               \n               \n               \n               \n               \n               \n              "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"form-check-input",attrs:{type:"radio",name:"gender",id:"genderFemale",value:"0"},domProps:{checked:t._q(t.gender,"0")},on:{change:function(e){t.gender="0"}}}),t._v(" "),t._m(1)])]),t._v(" "),r("button",{staticClass:"btn btn-lg btn-primary pull-xs-right"},[t._v("\n            Sign up\n          ")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"form-check-label",attrs:{for:"genderMale"}},[e("h3",[this._v(" Male")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"form-check-label",attrs:{for:"genderFemale"}},[e("h3",[this._v(" Female")])])}]},Ht=r("VU/8")(Ft,Vt,!1,null,null,null).exports,qt={getCurrentCoordinates:function(){navigator;return new W.a(function(t,e){navigator.geolocation.getCurrentPosition(function(e){var r=e.coords;return t(r)},function(t){return e(t)})})}},Gt={name:"viewHome",data:function(){return{isLoadingContent:!0,isLocationError:!0,locationCoord:{lat:0,lon:0},error:"",timer:!1}},computed:b()({},Object(w.b)(["currentCart","merchants","currentUser"])),created:function(){this.refreshContent(),this.timer=setInterval(this.refreshContent,3e5)},destroyed:function(){console.log(Date(),"Removing auto refresh"),this.cancelAutoUpdate()},mounted:function(){this.refreshContent()},methods:{refreshContent:function(){console.log(Date(),"Refreshing content"),console.log(Date(),"currentUser unread",this.currentUser.unreadInbox),this.isLoadingContent=!0,this.isLocationError=!1,this.geolocation()},cancelAutoUpdate:function(){clearInterval(this.timer)},geolocation:function(){navigator.geolocation.getCurrentPosition(this.buildUrl,this.geoError)},buildUrl:function(t){this.locationCoord.lat=t.coords.latitude,this.locationCoord.lon=t.coords.longitude,this.$store.commit("home/SET_CURRENT_LOCATION",{lat:this.locationCoord.lat,lon:this.locationCoord.lon},{root:!0}),this.fetchMerchants(t.coords.latitude,t.coords.longitude),this.isLoadingContent=!1},geoError:function(t){switch(this.error=t.code,this.isLoadingContent=!1,this.isLocationError=!0,t.code){case t.PERMISSION_DENIED:this.error="User denied the request for Geolocation.";break;case t.POSITION_UNAVAILABLE:this.error="Location information is unavailable.";break;case t.TIMEOUT:this.error="The request to get user location timed out.";break;case t.UNKNOWN_ERROR:this.error="An unknown error occurred."}console.log(this.error),this.$swal.fire({type:"warning",text:"Please turn on Location Services. For the best experience, please set it to High Accuracy",showConfirmButton:!1,showCloseButton:!0})},getLocation:function(){return qt.getCurrentCoordinates().then(function(t){return{lat:t.latitude,long:t.longitude}}).catch(function(t){return console.log(t),null})},fetchMerchants:function(t,e){console.log("fetchMerchants",t,e),this.$store.dispatch("merchant/FETCH_MERCHANTS"),this.isLoadingContent=!1,this.isLocationError=!1},openMerchant:function(t){var e=this,r=this.merchants[t];console.log("merchant selected",r),this.currentCart.items.length>=1?this.currentCart.merchant.friendlyId!=r.friendlyId?r.currentlyOp?this.$swal({title:"Are you sure?",html:this.currentCart.merchant.name+" cart is found, would you like to proceed to visit "+r.name+"?",type:"info",showCancelButton:!0,confirmButtonText:"Proceed to "+r.name,cancelButtonText:"Back to "+this.currentCart.merchant.name,showCloseButton:!0,showLoaderOnConfirm:!0}).then(function(t){if(!t.value)return e.$ga.event("home","routing_to_merchant","left_cart",!1),console.log("return to current cart merchant",e.currentCart.merchant.friendlyId),e.$router.push({name:"merchant",params:{merchantId:e.currentCart.merchant.friendlyId}}),0;e.$ga.event("home","routing_to_merchant","left_cart",!0),e.$store.commit(S,r,{root:!0}),e.$router.push({name:"merchant",params:{merchantId:r.friendlyId}})}):this.$ga.event("home","routing_to_merchant","left_cart_for_not_ops",!0):this.$router.push({name:"merchant",params:{merchantId:r.friendlyId}}):(this.$store.commit(S,r,{root:!0}),this.$router.push({name:"merchant",params:{merchantId:r.friendlyId}}))}}},zt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home-page"},[t.isLocationError?r("div",{staticClass:"container page"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("content-placeholders",[r("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),r("content-placeholders-text",{attrs:{lines:3}})],1)],1)])]):t._e(),t._v(" "),t.isLoadingContent?r("div",{staticClass:"container page"},[t._m(0),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:t.refreshContent}},[t._v("Refresh content")])])])]):t._e(),t._v(" "),t.isLocationError||t.isLoadingContent?t._e():r("div",{staticClass:"container page"},[r("br"),t._m(1),r("br"),t._v(" "),t.merchants.length<=0?r("div",{staticClass:"row"},[t.merchants.length>=0?r("div",{staticClass:"col-xs-12"},[t._v("\n        No merchant found around you, please try again\n      ")]):t._e()]):t._e(),t._v(" "),t.merchants.length>=1?r("div",{staticClass:"row justify-content-center"},t._l(t.merchants,function(e,s){return r("div",{key:s,staticClass:"col-xs-6 col-md-3 itemGrid"},[r("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"merchantCard",on:{click:function(e){return t.openMerchant(s)}}},[r("div",{staticClass:"merchantImage img-fluid"},[e.currentlyOp?t._e():r("div",{staticClass:"notOpOverlay"},[r("div",{staticClass:"text"},[t._v("Closed")])]),t._v(" "),e.currentlyOp&&e.currentDiscount>0?r("div",{staticClass:"discountOverlay"},[r("div",{staticClass:"text"},[t._v(t._s(parseFloat(e.currentDiscount).toString())+"%")])]):t._e(),t._v(" "),r("img",{staticClass:"img-fluid",attrs:{src:e.image}})]),t._v(" "),r("b",[t._v(t._s(e.name.toUpperCase()))]),r("br"),t._v(" "),r("span",[t._v(t._s(e.address)),r("small",[t._v(" ("+t._s(t._f("floor")(e.distance))+" km)")])]),r("br"),t._v(" "),r("small",t._l(e.tags,function(s,o){return r("span",{key:o,staticClass:"merchantTags"},[r("span",{staticClass:"merchantTag"},[t._v(t._s(s))]),t._v(" "),o!=e.tags.length-1?r("span",{staticClass:"merchantTag"},[r("b",[t._v(" · ")])]):t._e(),t._v(" "),o!=e.tags.length-1?r("span",{staticClass:"merchantTag"},[t._v(" ")]):t._e()])}),0),r("br")])])}),0):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Location not found")]),this._v(" "),e("p",[this._v("\n          Please turn on Location Services. For the best experience, please set it to High Accuracy\n        ")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",[e("b",[this._v("Food and Beverage")])])}]};var Wt=r("VU/8")(Gt,zt,!1,function(t){r("sZ/t")},"data-v-086e5b70",null).exports,Qt={name:"viewProfileUpdates",computed:b()({},Object(w.b)(["currentUser"])),created:function(){this.$store.dispatch("auth/CHECK_AUTH",!0)},methods:{contactStashAsia:function(){this.$swal.fire({type:"info",text:"Please contact our hello@stash.asia",showConfirmButton:!1,showCloseButton:!0})}}},Yt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("h1",[t._v("Profile update")]),r("hr"),t._v(" "),r("form",[r("fieldset",[r("fieldset",{staticClass:"form-group"},[t._v("\n\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUser.username,expression:"currentUser.username"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Your username",disabled:""},domProps:{value:t.currentUser.username},on:{click:t.contactStashAsia,input:function(e){e.target.composing||t.$set(t.currentUser,"username",e.target.value)}}})]),r("br"),t._v(" "),r("fieldset",{staticClass:"form-group"},[t._v("\n\t\t\t\t\t\t\tEmail\n\t\t\t\t\t\t\t"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUser.email,expression:"currentUser.email"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Email",disabled:""},domProps:{value:t.currentUser.email},on:{click:t.contactStashAsia,input:function(e){e.target.composing||t.$set(t.currentUser,"email",e.target.value)}}})]),r("br")])]),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("h5",[t._v("Related:")]),t._v(" "),r("router-link",{attrs:{to:{name:"passwordUpdate"}}},[r("h3",[r("i",{staticClass:"md-36 material-icons main"},[t._v("security")]),t._v(" Password update")])])],1)])])},staticRenderFns:[]},Xt=r("VU/8")(Qt,Yt,!1,null,null,null).exports,Kt={name:"viewPasswordUpdates",data:function(){return{currentPassword:"",newPassword1:"",newPassword2:""}},computed:b()({},Object(w.b)(["currentUser"])),mounted:function(){},methods:{updateSettings:function(){var t=this;this.currentPassword.length<=4||this.newPassword1.length<=4||this.newPassword2.length<=4?this.$swal.fire({type:"error",text:"Empty password not allowed",showConfirmButton:!1,showCloseButton:!0}):this.newPassword1===this.newPassword2?(this.$store.commit(T,{root:!0}),this.$store.dispatch("auth/UPDATE_PASSWORD",{password_old:this.currentPassword,password_1:this.newPassword1,password_2:this.newPassword2}).then(function(e){t.$swal.fire({type:"success",text:"Password updated",showConfirmButton:!1,showCloseButton:!0}),t.$store.commit(T,{root:!0}),t.currentPassword="",t.newPassword1="",t.newPassword2="",t.currentUser.isTempPassword?t.$router.push({name:"home"}):t.$router.push({name:"settings"})}).catch(function(e){console.log("error passwor update",e),t.$swal.fire({type:"error",text:"Unable to update password",showConfirmButton:!1,showCloseButton:!0}),t.$store.commit(T,{root:!0})})):this.$swal.fire({type:"error",text:"New password must matched",showConfirmButton:!1,showCloseButton:!0})}}},Zt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("h1",[t._v("Password Update")]),t._v(" "),r("hr"),t._v(" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.updateSettings()}}},[r("fieldset",[r("fieldset",{staticClass:"form-group"},[t._v("\n\t\t\t\t\t\t\tCurrent passsword\n\t\t\t\t\t\t\t"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPassword,expression:"currentPassword"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.currentPassword},on:{input:function(e){e.target.composing||(t.currentPassword=e.target.value)}}})]),r("br"),t._v(" "),r("fieldset",{staticClass:"form-group"},[t._v("\n\t\t\t\t\t\t\tNew passsword\n\t\t\t\t\t\t\t"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword1,expression:"newPassword1"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.newPassword1},on:{input:function(e){e.target.composing||(t.newPassword1=e.target.value)}}})]),r("br"),t._v(" "),r("fieldset",{staticClass:"form-group"},[t._v("\n\t\t\t\t\t\t\tRepeat new passsword\n\t\t\t\t\t\t\t"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword2,expression:"newPassword2"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.newPassword2},on:{input:function(e){e.target.composing||(t.newPassword2=e.target.value)}}})]),r("br"),t._v(" "),r("button",{staticClass:"btn btn-lg btn-primary pull-xs-right"},[t._v("\n\t\t\t\t\t\t\tUpdate Password\n\t\t\t\t\t\t")])])]),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("h5",[t._v("Related:")]),t._v(" "),r("router-link",{attrs:{to:{name:"profileUpdate"}}},[r("h3",[r("i",{staticClass:"md-36 material-icons main"},[t._v("person")]),t._v(" Profile update")])])],1)])])},staticRenderFns:[]};var Jt=r("VU/8")(Kt,Zt,!1,function(t){r("GkH6")},null,null).exports,te=r("BO1k"),ee=r.n(te),re={name:"viewSettings",computed:b()({},Object(w.b)(["currentUser"])),methods:{hasActiveUser:function(){return!!this.currentUser&&""!==this.currentUser.token},logout:function(){var t,e=this;this.$swal((t={title:"Logout STASH",type:"error",confirmButtonText:"Logout",showCancelButton:!0},G()(t,"confirmButtonText","Keep"),G()(t,"cancelButtonText","Logout"),G()(t,"showCloseButton",!0),G()(t,"showLoaderOnConfirm",!0),t)).then(function(t){if(t.value)return e.$ga.event("account","logout","logout",0),0;e.$ga.event("account","logout","logout",1),e.$store.dispatch("auth/LOGOUT").then(function(){e.$router.push({name:"home"})})})},updateApp:function(){this.$store.commit(T,{root:!0}),window.navigator&&navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then(function(t){var e=!0,r=!1,s=void 0;try{for(var o,n=ee()(t);!(e=(o=n.next()).done);e=!0){o.value.unregister()}}catch(t){r=!0,s=t}finally{try{!e&&n.return&&n.return()}finally{if(r)throw s}}}),window.location.reload(!0),this.$store.commit(T,{root:!0}),this.$swal.fire({type:"success",text:"Your STASH is up to date",showConfirmButton:!1,showCloseButton:!0})}}},se={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[t._m(0),t._v(" "),t.hasActiveUser()?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("router-link",{attrs:{to:{name:"profileUpdate"}}},[r("h3",[t._v("  "),r("i",{staticClass:"md-36 material-icons main"},[t._v("person")]),t._v(" Profile Update")])]),t._v(" "),r("hr")],1)]):t._e(),t._v(" "),t.hasActiveUser()?t._e():r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("router-link",{attrs:{to:{name:"login"}}},[r("h3",[t._v("  "),r("i",{staticClass:"md-36 material-icons main"},[t._v("person")]),t._v(" Login")])]),t._v(" "),r("hr")],1)]),t._v(" "),t.hasActiveUser()?t._e():r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("router-link",{attrs:{to:{name:"register"}}},[r("h3",[t._v("  "),r("i",{staticClass:"md-36 material-icons main"},[t._v("how_to_reg")]),t._v(" Register")])]),t._v(" "),r("hr")],1)]),t._v(" "),t.hasActiveUser()?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("router-link",{attrs:{to:{name:"passwordUpdate"}}},[r("h3",[t._v("  "),r("i",{staticClass:"md-36 material-icons main"},[t._v("security")]),t._v(" Password Update")])]),t._v(" "),r("hr")],1)]):t._e(),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("button",{staticClass:"btn btn-outline-success btn-block btn-lg",on:{click:t.updateApp}},[t._v("\n\t\t\t\t\tApp update\n\t\t\t\t")])])]),t._v(" "),t.hasActiveUser()?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("br"),t._v(" "),r("button",{staticClass:"btn btn-outline-danger btn-block",on:{click:t.logout}},[t._v("\n\t\t\t\t\tLogout\n\t\t\t\t")])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Settings")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("contact_support")]),this._v(" FAQ")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("a",{attrs:{href:"mailto:cs@stash.asia"}},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("question_answer")]),this._v(" Contact")])]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("description")]),this._v(" Privacy Policy")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("description")]),this._v(" Terms of Service")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("description")]),this._v(" Legal")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("description")]),this._v(" Security")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h3",[this._v("  "),e("i",{staticClass:"md-36 material-icons main"},[this._v("business_center")]),this._v(" Business contact")]),this._v(" "),e("hr")])])}]};var oe=r("VU/8")(re,se,!1,function(t){r("pgQO")},null,null).exports,ne={name:"viewForgetPasswordRequest",data:function(){return{email:""}},methods:{forgetPasswordSendRequest:function(){var t=this;this.$store.commit(T,{root:!0}),this.$store.dispatch("auth/FORGET_PASSWORD_REQUEST",this.email).then(function(e){t.$store.commit(T,{root:!0}),t.$swal.fire({type:"warning",title:"Forget Password Request",html:"Email with temporary password has been sent to <b>"+t.email+"</b>",showConfirmButton:!1,showCloseButton:!0}),t.$router.push({name:"login"})}).catch(function(e){t.$store.commit(T,{root:!0}),console.log("erro123r",e),t.$swal.fire({type:"warning",text:"Unable to reach server, please try again in a few minutes",showConfirmButton:!1,showCloseButton:!0})})}}},ae={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[t._m(0),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("p",[t._v("\n\t\t\t\tPlease enter your email address to search for your account.\n\t\t\t")]),t._v(" "),r("form",[r("fieldset",[r("fieldset",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])])]),t._v(" "),r("br")])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-6"},[r("router-link",{staticClass:"btn btn-lg btn-outline-primary btn-block",attrs:{to:{name:"login",params:{}}}},[t._v("\n\t\t\t\tCancel\n\t\t\t")])],1),t._v(" "),r("div",{staticClass:"col-xs-6"},[r("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:function(e){return t.forgetPasswordSendRequest()}}},[t._v("\n\t\t\t\tSend reset email\n\t\t\t")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Reset your password")]),this._v(" "),e("hr")])])}]},ie=r("VU/8")(ne,ae,!1,null,null,null).exports,ce={name:"viewWallet",data:function(){return{isShowBalance:!0}},computed:b()({},Object(w.b)(["currentUser"])),methods:{statusToColor:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""){case"SUCCESS":case"WAITING":return"#ffba00";case"FAILED":return"#FF7F7F";default:return"#000"}},isBold:function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""){case"WAITING":return"bold";default:return"normal"}},openMyQR:function(){var t=this,e="https://chart.googleapis.com/chart?cht=qr&chs=200x200&chld=H|1&choe=UTF-8&chl="+this.currentUser.id;this.isShowBalance=!1,this.$swal.fire({title:'<h2 style="color:#ffba00"><b>STASH ID QR</b></h2>',html:"<img src='"+e+"' /><h3><b>"+this.currentUser.id+"</b></h3><h2>"+this.currentUser.username+"</h2>",showConfirmButton:!1,showCloseButton:!0}).then(function(e){t.isShowBalance=!0})},gotoTopUpWallet:function(){this.$router.push({name:"walletTopUp"})},gotoOrderDetails:function(t){this.$router.push({name:"orderDetails",params:{orderId:t}})},gotoLastTransactions:function(){this.$swal.fire({type:"info",html:"Feature work in progress",showConfirmButton:!1,showCloseButton:!0})},gotoInbox:function(){this.$router.push({name:"inbox"})},gotoSettings:function(){this.$router.push({name:"settings"})}},created:function(){var t=this;this.$store.dispatch("auth/CHECK_AUTH",!0).catch(function(e){console.log("Error here when checking auth full load :(",e),t.$router.push({name:"login"}),t.$swal.fire({type:"info",html:"You are logged out",showConfirmButton:!1,showCloseButton:!0})})}},le={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("h4",[t._v("Hi "),r("span",{staticClass:"text-uppercase font-weight-bold"},[t._v(t._s(t.currentUser.username))]),t._v("! "),r("small",[t._v(" Your STASH Cash balance:")])]),t._v(" "),r("br"),t._v(" "),r("div",{staticClass:"text-xs-center"},[t.isShowBalance?r("h1",{staticClass:"text-xs-center font-weight-bold"},[t._v(t._s(t.currentUser.wallet.ccy)+" "+t._s(t._f("2decimal")(t.currentUser.wallet.value)))]):t._e(),t._v(" "),t.isShowBalance?t._e():r("h1",{staticClass:"text-xs-center font-weight-bold"},[t._v(t._s(t.currentUser.wallet.ccy)+" ###.##")]),t._v(" "),r("button",{staticClass:"btn btn-primary btn-xl",on:{click:t.gotoTopUpWallet}},[r("i",{staticClass:"ion-ios-plus-outline"}),r("span",[t._v(" Top Up Balance")])])]),t._v(" "),r("br"),t._v(" "),r("br")])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-6 text-xs-center"},[r("button",{staticClass:"btn btn-outline-primary btn-md btn-block",on:{click:t.openMyQR}},[t._m(0)])]),t._v(" "),r("div",{staticClass:"col-xs-6 text-xs-center"},[r("button",{staticClass:"btn btn-outline-primary btn-md btn-block",on:{click:t.gotoSettings}},[t._m(1)])])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("p"),t._m(2),r("p"),t._v(" "),r("table",{staticClass:"table"},[t._m(3),t._v(" "),t.isShowBalance?r("tbody",t._l(t.currentUser.lastTransaction,function(e,s){return r("tr",{key:s},[r("td",{on:{click:function(r){return t.gotoOrderDetails(e.id)}}},[r("span",{style:{color:t.statusToColor(e.status),"font-weight":t.isBold(e.status)}},["WAITING"===e.status?r("span",{staticClass:"currentOrder"},[r("small",[t._v("Current Order")])]):t._e(),t._v(" "),"WAITING"===e.status?r("br"):t._e(),t._v(" "),t._v("\n                  "+t._s(e.merchant)+"\n                ")])]),t._v(" "),r("td",{on:{click:function(r){return t.gotoOrderDetails(e.id)}}},[t._v("SGD "+t._s(t._f("2decimal")(e.value)))]),t._v(" "),r("td",{on:{click:function(r){return t.gotoOrderDetails(e.id)}}},[t._v(t._s(t._f("formatDateWallet")(e.dateTime)))])])}),0):t._e(),t._v(" "),t.isShowBalance?t._e():r("tbody",t._l(t.currentUser.lastTransaction,function(e,s){return r("tr",{key:s},[r("td",[t._v("\n                ############\n              ")]),t._v(" "),r("td",[t._v("###.##")]),t._v(" "),r("td",[t._v("#########")])])}),0)]),t._v(" "),r("hr")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[e("i",{staticClass:"ion-qr-scanner"}),e("span"),this._v("  My QR")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[e("i",{staticClass:"ion-gear-b"}),e("span"),this._v("  Settings")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[e("b",[this._v("Latest Transactions")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("Merchant")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Amount")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Date Time")])])])}]};var ue=r("VU/8")(ce,le,!1,function(t){r("gvPu")},"data-v-5a1b1d4b",null).exports,me={topUp:function(t){return console.log("Payment called",t),rt.post("wallet/topup/process",t)}},de=r("/CiQ"),he={name:"viewTopUpWallet",components:{Card:de.Card},data:function(){return{allowedPaymentCard:["VISA","MASTER","AMEX","DISCOVER","DINERSCLUB","JCB","UNIONPAY"],allowedTopUpJump:[20,35,50,75,100],isTopUpSuccess:!1,topUpValue:20,topUpMethod:"",voucherCode:"",complete:!1,stripeOptions:{hidePostalCode:!0}}},methods:{pay:function(){var t=this;this.$store.commit(T,{root:!0});Object(de.createToken)().then(function(e){console.log(e.token),me.topUp({amount:t.topUpValue,payment_method:t.topUpMethod,nonce:e.token.id}).then(function(e){t.$swal.fire({type:"success",text:"Topup success",showConfirmButton:!1,showCloseButton:!0}),t.$store.commit(T,{root:!0}),t.$router.push({name:"wallet"})}).catch(function(e){t.$store.commit(T,{root:!0}),t.$swal.fire({type:"warning",text:"Unable to reach server for top-up, please try again in a few minutes",showConfirmButton:!1,showCloseButton:!0})})}).catch(function(e){t.$store.commit(T,{root:!0}),console.log("Card declined",lt()(e,null,2)),t.$swal.fire({type:"error",text:"Card declined",showConfirmButton:!1,showCloseButton:!0})})},submitTopUpRequest:function(){if(this.allowedTopUpJump.includes(parseInt(this.topUpValue))){if(this.allowedPaymentCard.includes(this.topUpMethod.toUpperCase()))this.pay(),this.isTopUpSuccess=!0;else if(["VOUCHER"].includes(this.topUpMethod.toUpperCase())){if(!(this.voucherCode.length>=6))return void this.$swal.fire({type:"warning",text:"Please provide valid voucher code to proceed with top-up",showConfirmButton:!1,showCloseButton:!0});this.$swal.fire({type:"error",text:"Feature work in progress",showConfirmButton:!1,showCloseButton:!0}),this.isTopUpSuccess=!0}else if(!this.allowedPaymentCard.includes(this.topUpMethod.toUpperCase()))return void this.$swal.fire({type:"warning",text:"Please select valid preferred payment method",showConfirmButton:!1,showCloseButton:!0})}else this.$swal.fire({type:"warning",text:"Please select valid top-up value",showConfirmButton:!1,showCloseButton:!0})}}},ve={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[t._m(0),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("form",[r("div",{staticClass:"form-group"},[r("h4",[t._v("Top-up value (SGD)")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.topUpValue,expression:"topUpValue"}],staticClass:"form-control",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.topUpValue=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"20"}},[t._v("SGD 20")]),t._v(" "),r("option",{attrs:{value:"35"}},[t._v("SGD 35")]),t._v(" "),r("option",{attrs:{value:"50"}},[t._v("SGD 50")]),t._v(" "),r("option",{attrs:{value:"75"}},[t._v("SGD 75")]),t._v(" "),r("option",{attrs:{value:"100"}},[t._v("SGD 100")])])]),t._v(" "),r("br"),t._v(" "),r("div",{staticClass:"form-group"},[r("h4",[t._v("Preferred payment method")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.topUpMethod,expression:"topUpMethod"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.topUpMethod=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}},[t._v("-- Select --")]),t._v(" "),r("option",{attrs:{value:"visa"}},[t._v("Visa")]),t._v(" "),r("option",{attrs:{value:"master"}},[t._v("Mastercard")]),t._v(" "),r("option",{attrs:{value:"amex"}},[t._v("American Express")]),t._v(" "),r("option",{attrs:{value:"discover"}},[t._v("Discover")]),t._v(" "),r("option",{attrs:{value:"dinersclub"}},[t._v("Diners Club")]),t._v(" "),r("option",{attrs:{value:"jcb"}},[t._v("JCB")]),t._v(" "),r("option",{attrs:{value:"unionpay"}},[t._v("UnionPay")]),t._v(" "),r("option",{attrs:{value:"voucher"}},[t._v("Voucher")])])]),t._v(" "),"VOUCHER"==t.topUpMethod.toUpperCase()?r("div",{staticClass:"form-group"},[r("br"),t._v(" "),r("h4",[t._v("Voucher Code")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.voucherCode,expression:"voucherCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Type your voucher code here"},domProps:{value:t.voucherCode},on:{input:function(e){e.target.composing||(t.voucherCode=e.target.value)}}})]):t._e()]),t._v(" "),r("br")])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("h4",[t._v("Payment summary (SGD)")]),t._v(" "),r("div",{staticClass:"text-xs-center"},[r("h3",[r("b",[t._v("SGD "+t._s(t.topUpValue))]),t._v(" with "),r("b",[t.topUpMethod.length>=1?r("span",[t._v(t._s(t._f("capitalize")(t.topUpMethod)))]):t._e(),t._v(" "),t.topUpMethod.length<=0?r("span",[t._m(1)]):t._e()]),t._v(" "),"VOUCHER"==t.topUpMethod.toUpperCase()?r("span",[r("small",[t.voucherCode.length>=1?r("i",[t._v("\n                ( "+t._s(t.voucherCode.toUpperCase())+" )\n              ")]):t._e(),t._v(" "),t.voucherCode.length<=0?r("i",[t._v("\n                ( Insert your voucher code )\n              ")]):t._e()])]):t._e()]),t._v(" "),r("br")])])]),t._v(" "),t.isTopUpSuccess||t.allowedPaymentCard.includes(t.topUpMethod.toUpperCase())?t._e():r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.submitTopUpRequest}},[t._v("Submit")])])]),t._v(" "),t.allowedPaymentCard.includes(t.topUpMethod.toUpperCase())?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 text-xs-center"},[r("hr"),t._v(" "),r("Card",{staticClass:"stripe-card form-control text-xs-center",class:{complete:t.complete},attrs:{stripe:"pk_test_wqTOBW4qf7anhVBuevR50h27",options:t.stripeOptions},on:{change:function(e){t.complete=e.complete}}}),t._v(" "),r("hr")],1)]):t._e(),t._v(" "),!t.isTopUpSuccess&&t.allowedPaymentCard.includes(t.topUpMethod.toUpperCase())&&t.complete?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.pay}},[t._v("Submit")])])]):t._e(),t._v(" "),t.isTopUpSuccess?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n        Success top-up! \n          "),r("router-link",{attrs:{to:{name:"wallet"}}},[t._v("\n            Click here to view your wallet\n          ")])],1)])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h2",[this._v("STASH Cash Top-up")]),this._v(" "),e("hr"),this._v(" "),e("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("small",[e("i",[this._v("select payment method")])])}]};var pe=r("VU/8")(he,ve,!1,function(t){r("zGgx")},"data-v-2850526c",null).exports,_e={name:"viewInbox",data:function(){return{}},computed:b()({},Object(w.b)(["getInbox"])),created:function(){console.log(Date(),"Inbox created"),this.$store.dispatch("inbox/FETCH_INBOX")},methods:{openMessage:function(t){this.$router.push({name:"messageDetails",params:{messageId:t}})}}},fe={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("h1",[t._v("Inbox")]),t._v(" "),r("table",{staticClass:"table"},[r("tbody",t._l(t.getInbox,function(e,s){return r("tr",{key:s,on:{click:function(r){return t.openMessage(e.id)}}},[r("td",[r("img",{staticClass:"img-fluid merchantImg",attrs:{src:e.image_logo}})]),t._v(" "),r("td",{staticClass:"mainColor"},[r("small",[r("small",[t._v(t._s(e.dateTime))])]),r("br"),t._v(" "),"1"===e.isRead?r("font",{attrs:{color:"red"}},[r("i",{staticClass:"ion-load-b"})]):t._e(),r("b",[t._v(" "+t._s(e.merchant_name))]),r("br"),t._v("\n              "+t._s(e.brief_view)+"\n            ")],1)])}),0)])])])])},staticRenderFns:[]};var ge=r("VU/8")(_e,fe,!1,function(t){r("Anlc")},"data-v-79ca1905",null).exports,Ce={name:"viewMessage",data:function(){return{}},computed:b()({},Object(w.b)(["getCurrentMessage"])),created:function(){console.log(Date(),"viewMessage/created",this.$route.params.messageId),this.$store.dispatch("inbox/FETCH_MESSAGE",this.$route.params.messageId)},methods:{deleteMessage:function(){var t=this;this.$ga.event("inbox","messages","delete",0),this.$swal({title:"Delete Message?",type:"warning",showCancelButton:!0,confirmButtonText:"Keep",cancelButtonText:"Delete",showCloseButton:!0,showLoaderOnConfirm:!0}).then(function(e){if(!e.value)return t.$ga.event("inbox","messages","delete",1),console.log(t.getCurrentMessage),t.$store.dispatch("inbox/DELETE_MESSAGE",t.$route.params.messageId),t.$router.push({name:"inbox"}),0;t.$ga.event("inbox","messages","delete",2)})}}},be={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[t._m(0),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-3"},[r("router-link",{attrs:{to:{name:"merchant",params:{merchantId:t.getCurrentMessage.friendlyId}}}},[r("img",{staticClass:"img-fluid",attrs:{src:t.getCurrentMessage.image_logo}})])],1),t._v(" "),r("div",{staticClass:"col-xs-9"},[r("router-link",{attrs:{to:{name:"merchant",params:{merchantId:t.getCurrentMessage.friendlyId}}}},[r("h3",[r("b",[t._v(t._s(t.getCurrentMessage.merchant_name)+" - "+t._s(t.getCurrentMessage.branchName))])]),t._v(" "),r("h5",[t._v(t._s(t.getCurrentMessage.branchName))])])],1)]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("hr"),t._v(" "),r("small",[t._v(t._s(t.getCurrentMessage.dateTime))]),r("br"),t._v(" "),r("span",{domProps:{innerHTML:t._s(t.getCurrentMessage.content.replace(/(\||,)/g,"-").replace("N/A","").replace(/\n/g,"<br>"))}})])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("br"),t._v(" "),r("button",{staticClass:"btn btn-block btn-primary btn-lg",on:{click:function(e){return t.deleteMessage()}}},[r("i",{staticClass:"ion-android-delete"}),t._v(" Delete message\n      ")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Message Details")]),this._v(" "),e("hr")])])}]};var we=r("VU/8")(Ce,be,!1,function(t){r("Zg5R")},"data-v-6652e968",null).exports,xe={name:"viewQRCodeReader",data:function(){return{paused:!1,isError:!1,errorString:""}},methods:{onDecode:function(t){this.paused=!0,this.$swal.fire({type:"info",title:"STASH Scanner",text:"Cound found "+t,showConfirmButton:!1,showCloseButton:!0}),console.log("viewQRCodeReader",t)},onInit:function(t){var e=this;return pt()(ht.a.mark(function r(){return ht.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t;case 3:r.next=10;break;case 5:r.prev=5,r.t0=r.catch(0),e.isError=!0,"NotAllowedError"===r.t0.name?e.errorString="Camera not found":"NotFoundError"===r.t0.name?e.errorString="Camera not found":"NotSupportedError"===r.t0.name?e.errorString="Connection not stable":"NotReadableError"===r.t0.name?e.errorString="Camera not found":"OverconstrainedError"===r.t0.name?e.errorString="Camera not found":"StreamApiNotSupportedError"===r.t0.name&&(e.errorString="Camera not found"),e.errorString="Camera not found";case 10:return r.prev=10,r.finish(10);case 12:case"end":return r.stop()}},r,e,[[0,5,10,12]])}))()},repaint:function(t,e){var r=t.topLeftCorner,s=t.topRightCorner,o=t.bottomLeftCorner,n=t.bottomRightCorner;e.strokeStyle="#ffba00",e.beginPath(),e.moveTo(r.x,r.y),e.lineTo(o.x,o.y),e.lineTo(n.x,n.y),e.lineTo(s.x,s.y),e.lineTo(r.x,r.y),e.closePath(),e.stroke()}}},ye={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[t._m(0),t._v(" "),t.isError?t._e():r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("qrcode-stream",{attrs:{paused:t.paused,track:t.repaint},on:{decode:t.onDecode,init:t.onInit}})],1)]),t._v(" "),t.isError?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 text-xs-center"},[r("br"),t._v(" "),r("h3",[r("b",[t._v(t._s(t.errorString))])]),t._v(" "),r("br")])]):t._e(),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("\n        STASH Scanner\n      ")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 text-xs-center"},[e("hr"),this._v(" "),e("h3",[this._v("\n        Place your code in the center of the camera\n      ")])])])}]};var Se=r("VU/8")(xe,ye,!1,function(t){r("Da7C")},null,null).exports,Te={name:"MenuCategory",props:{menuCategory:{type:Object,required:!0}},data:function(){return{}},computed:b()({},Object(w.b)(["currentCart","merchant"])),methods:{toggleCategory:function(){this.$store.commit("merchant/SET_PERSISTENT_EXPANDED_MENU_CATEGORY",this.menuCategory.name)},checkItem:function(t){var e=this;if(this.$store.state.merchant.merchant.currentlyOp){var r=this.menuCategory.menuList[t];if("0"!==r.availability)if(r.customisationApplied=[],r.customisation.length>=1)this.$store.commit("cart/SET_TEMP_ITEM",r),this.$router.push({name:"itemCustomisation",params:{merchantId:this.currentCart.merchant.friendlyId,itemId:r.id}});else{this.$toasted.show("<b>"+r.name.toUpperCase()+" </b>&nbsp;added to your cart",{theme:"bubble",position:"bottom-center",duration:2e3,action:{text:"Cart",onClick:function(t,r){r.goAway(0),e.$router.push({name:"cart",params:{}})}}});this.$store.commit("cart/ADD_TO_CART",r)}else this.$toasted.show("<b>"+r.name+"</b> is not available",{theme:"outline",position:"bottom-center",duration:2e3})}else this.$toasted.show(this.$store.state.merchant.merchant.name+" @ "+this.$store.state.merchant.merchant.address+" is closed now",{theme:"outline",position:"bottom-center",duration:2e3})}}},Ee={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"menuCategory",on:{click:function(e){return t.toggleCategory()}}},[r("h4",{staticClass:"text-uppercase",class:{mainColor:t.menuCategory.isSelected}},[t.menuCategory.isSelected?r("i",{staticClass:"ion-arrow-down-b"}):t._e(),t.menuCategory.isSelected?t._e():r("i",{staticClass:"ion-arrow-right-b"}),t._v("  "+t._s(t.menuCategory.name))])]),t._v(" "),t.menuCategory.isSelected?r("div",{staticClass:"menuList"},t._l(t.menuCategory.menuList,function(e,s){return r("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,staticClass:"item",on:{click:function(e){return t.checkItem(s)}}},[r("div",{staticClass:"row itemContent"},[r("div",{staticClass:"col-xs-3"},[r("div",{staticClass:"itemImage img-fluid"},["0"===e.availability?r("div",{staticClass:"notOpOverlay"},[r("div",{staticClass:"text"},[t._v("Not available")])]):t._e(),t._v(" "),r("img",{staticClass:"img-fluid",attrs:{src:e.image}})])]),t._v(" "),r("div",{staticClass:"col-xs-6 text-uppercase itemName"},[r("div",{staticClass:"font-weight-bold",class:{notAvailableColor:"0"===e.availability}},[t._v(t._s(e.name))])]),t._v(" "),"0"!==e.availability?r("div",{staticClass:"col-xs-3 text-xs-right"},[t._v("\n              "+t._s(t._f("currency")(e.price))+"\n            ")]):t._e(),t._v(" "),"0"===e.availability?r("div",{staticClass:"col-xs-3 text-xs-center notAvailableColor"},[t._v("\n              N/A\n            ")]):t._e()]),t._v(" "),s!=t.menuCategory.menuList.length-1?r("hr"):t._e()])}),0):t._e()])},staticRenderFns:[]};var Oe={name:"viewMerchant",components:{MenuCategory:r("VU/8")(Te,Ee,!1,function(t){r("AK+P")},"data-v-3d88eb24",null).exports},data:function(){return{isPageLoading:!0,isMenuSelected:!0,isAboutSelected:!1,isLoyaltySelected:!1,isMapAvailable:!0,center:{lat:45.508,lng:-73.587},markers:[]}},methods:{changeView:function(t){this.isMenuSelected=!1,this.isAboutSelected=!1,this.isLoyaltySelected=!1,"MENU"==t&&(this.isMenuSelected=!0),"ABOUT"==t&&(this.isAboutSelected=!0),"LOYALTY"==t&&(this.isLoyaltySelected=!0)},applyVoucher:function(t){this.$swal.fire({type:"info",text:"Apply this voucher at the checkout page",showConfirmButton:!1,showCloseButton:!0}),console.log("Voucher clicked",t)},hasCartAndSameMerchant:function(){return!!(this.currentCart&&this.currentCart.merchant.friendlyId===this.merchant.friendlyId&&this.currentCart.items.length>0)},goToCheckout:function(){this.$router.push({name:"cart"})}},computed:b()({},Object(w.b)(["merchant","isAuthenticated","currentCart"])),mounted:function(){},beforeCreate:function(){var t=this;console.log("merchant called",this.$route.params.merchantId),W.a.all([console.log("Mounted merchant page"),Bt.dispatch("merchant/FETCH_MERCHANT",this.$route.params.merchantId),this.isPageLoading=!1]).then(function(e){console.log("merchant_",Bt.state.merchant.merchant),Bt.state.merchant.merchant.currentlyOp||t.$swal.fire({type:"info",html:Bt.state.merchant.merchant.name+" @ "+Bt.state.merchant.merchant.address+" is closed now",showConfirmButton:!1,showCloseButton:!0}),t.isMapAvailable=!0;var r={lat:parseFloat(t.merchant.location.lat),lng:parseFloat(t.merchant.location.lon)};t.markers.push({position:r}),t.center=r,Bt.commit("cart/REMOVE_TEMP_ITEM"),t.isPageLoading=!1})}},ke={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("transition",{attrs:{name:"component-fade",mode:"out-in"}},[t.isPageLoading?t._e():r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("img",{staticClass:"img-fluid merchant-header",attrs:{src:t.merchant.image}}),t._v(" "),r("h2",[r("b",[t._v(t._s(t.merchant.name))])]),t._v(" "),r("p",[t._v(t._s(t.merchant.address))]),t._v(" "),r("hr")])])]),t._v(" "),r("transition",{attrs:{name:"component-fade",mode:"out-in"}},[t.isPageLoading?t._e():r("div",{staticClass:"row"},[r("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"col-xs-4 text-xs-center",class:{mainColor:t.isMenuSelected},on:{click:function(e){return t.changeView("MENU")}}},[r("h4",{staticClass:"text-xs-center font-weight-bold"},[t._v("MENU")])]),t._v(" "),r("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"col-xs-4 text-xs-center",class:{mainColor:t.isLoyaltySelected},on:{click:function(e){return t.changeView("LOYALTY")}}},[r("h4",{staticClass:"text-xs-center font-weight-bold"},[t._v("REWARDS")])]),t._v(" "),r("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"col-xs-4 text-xs-center",class:{mainColor:t.isAboutSelected},on:{click:function(e){return t.changeView("ABOUT")}}},[r("h4",{staticClass:"text-xs-center font-weight-bold"},[t._v("ABOUT")])])])]),t._v(" "),r("transition",{attrs:{name:"component-fade",mode:"out-in"}},[t.isPageLoading?t._e():r("div",{staticClass:"row"},[r("transition",{attrs:{name:"component-fade",mode:"out-in",duration:{enter:188,leave:200}}},[t.isMenuSelected?r("div",{staticClass:"col-xs-12"},[r("hr",{staticClass:"mb-0"}),t._v(" "),t._l(t.merchant.menu,function(e,s){return r("div",{key:s,attrs:{classs:"categoryList"}},[r("MenuCategory",{staticClass:"menuCategory",attrs:{menuCategory:e}}),t._v(" "),r("hr",{staticClass:"margin0"})],1)}),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),r("transition",{attrs:{name:"component-fade",mode:"out-in",duration:{enter:188,leave:200}}},[t.hasCartAndSameMerchant()?r("button",{staticClass:"btn btn-block btn-lg btn-primary",on:{click:function(e){return t.goToCheckout()}}},[t._v("\n\t\t\t\t\t\t\t\tCheckout\n\t\t\t\t\t\t\t")]):t._e()])],2):t._e()]),t._v(" "),r("transition",{attrs:{name:"component-fade",mode:"out-in",duration:{enter:188,leave:200}}},[t.isAboutSelected?r("div",{staticClass:"col-xs-12"},[r("hr"),t._v(" "),r("br"),t._v(" "),r("h5",[r("b",[t._v("DESCRIPTION")])]),t._v(" "),r("p",{staticClass:"twentySizePtHeight"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.merchant.about)+"\n\t\t\t\t\t\t")]),r("br"),t._v(" "),r("br"),t._v(" "),t.merchant.address_line1?r("h5",[r("b",[t._v("ADDRESS")])]):t._e(),t._v(" "),t.merchant.address_line1?r("p",{staticClass:"twentySizePtHeight"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.merchant.address_line1)),r("br"),t._v("\n\t\t\t\t\t\t\t"+t._s(t.merchant.address_line2)),r("br"),t._v("\n\t\t\t\t\t\t\t"+t._s(t.merchant.postal_code)),r("br"),t._v("\n\t\t\t\t\t\t\t"+t._s(t.merchant.cityCountry)+"\n\t\t\t\t\t\t")]):t._e(),t._v(" "),t.isMapAvailable?r("gmap-map",{staticStyle:{width:"100%",height:"400px"},attrs:{center:t.center,zoom:18}},t._l(t.markers,function(e,s){return r("gmap-marker",{key:s,attrs:{position:e.position},on:{click:function(r){t.center=e.position}}})}),1):t._e(),t._v(" "),t.merchant.contact_no_1?r("hr"):t._e(),t._v(" "),r("br"),t._v(" "),t.merchant.contact_no_1?r("h5",[r("b",[t._v("CONTACT")])]):t._e(),t._v(" "),t.merchant.contact_no_1?r("p",{staticClass:"twentySizePtHeight"},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.merchant.contact_no_1)+"\n\t\t\t\t\t\t")]):t._e()],1):t._e()]),t._v(" "),r("transition",{attrs:{name:"component-fade",mode:"out-in",duration:{enter:188,leave:200}}},[!t.isAuthenticated&&t.isLoyaltySelected?r("div",{staticClass:"col-xs-12"},[r("hr"),r("br"),t._v(" "),r("h3",[t._v("\n\t\t\t\t\t\t\tYour rewards\n\t\t\t\t\t\t")]),t._v(" "),r("div",{staticClass:"progressBar"},[r("div",[r("b",[t._v("  0%")])])]),r("br"),t._v(" "),r("h4",[r("router-link",{attrs:{to:{name:"login"}}},[t._v("\n\t\t\t\t\t\t\t\tLogin to begin your rewarding retail experiences\n\t\t\t\t\t\t\t")])],1)]):t._e()]),t._v(" "),r("transition",{attrs:{name:"component-fade",mode:"out-in",duration:{enter:188,leave:200}}},[t.isAuthenticated&&t.isLoyaltySelected?r("div",{staticClass:"col-xs-12"},[r("hr"),r("br"),t._v(" "),t.merchant.loyalty.target.loyaltyTimeWindow<=0?r("h4",[t._v("This merchant is not participating in giving out rewards")]):t._e(),t._v(" "),t.merchant.loyalty.target.loyaltyTimeWindow>0?r("div",[r("h3",[t._v("\n\t\t\t\t\t\t\t\tYour rewards this \n\t\t\t\t\t\t\t\t"),7==t.merchant.loyalty.target.loyaltyTimeWindow?r("span",[t._v("week")]):t._e(),t._v(" "),30==t.merchant.loyalty.target.loyaltyTimeWindow?r("span",[t._v("month")]):t._e()]),t._v(" "),r("div",{staticClass:"progressBar"},[t.merchant.loyalty.achieved>=.01?r("div",{staticClass:"progressBarValue",style:{width:Math.min(parseInt(100*Math.floor(t.merchant.loyalty.achieved/t.merchant.loyalty.targetloyaltyTarget)),100)+"%"}},[r("b",[t._v("X%  ")])]):t._e(),t._v(" "),t.merchant.loyalty.achieved<=0?r("div",[r("b",[t._v("  0%")])]):t._e()])]):t._e(),t._v(" "),r("br"),t._v(" "),r("h3",[t._v("Active vouchers")]),t._v(" "),t.isAuthenticated?r("div",[t.merchant.vouchers.length<=0?r("h4",[t._v("No active vouchers found")]):t._e(),t._v(" "),t.merchant.vouchers.length>0?r("div",t._l(t.merchant.vouchers,function(e,s){return r("div",{key:s,staticClass:"voucherDetails",on:{click:function(r){return t.applyVoucher(e)}}},[r("h5",[r("b",[t._v(t._s(e.name))])]),t._v(" "),r("p",[r("small",[t._v("\n                \t\t\tExpired at: "+t._s(e.expiredAt)+"\n\t\t\t\t\t\t\t\t\t\t")])]),t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.description)+"\n\t\t\t\t\t\t\t\t")])}),0):t._e()]):t._e()]):t._e()])],1)]),t._v(" "),r("transition",{attrs:{name:"component-fade",mode:"out-in"}},[t.isPageLoading?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("content-placeholders",[r("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),r("content-placeholders-text",{attrs:{lines:3}})],1)],1)]):t._e()])],1)},staticRenderFns:[]};var Ie=r("VU/8")(Oe,ke,!1,function(t){r("ag9s")},"data-v-f5ad53ce",null).exports,Ae={name:"viewMerchantDeal",computed:b()({},Object(w.b)(["merchant"])),components:{},data:function(){return{}}},$e={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("router-link",{attrs:{to:{name:"merchant",params:{merchantId:this.merchant.friendlyId}}}},[r("b",[r("b",{staticClass:"ion-android-arrow-back mainColor"}),t._v(" "+t._s(t.merchant.name)+" / "+t._s(t.merchant.address))])])],1)]),t._v(" "),t._m(0),t._v(" "),r("hr")])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h1",[this._v("Deals")])])])}]};r("VU/8")(Ae,$e,!1,function(t){r("qZRe")},"data-v-4517f048",null).exports;var Ue={name:"viewVouchers",computed:b()({},Object(w.b)(["merchant"])),components:{},data:function(){return{}},methods:{gotoCart:function(){this.$router.push({name:"cart"})},applyVoucher:function(t){var e=this;this.$swal({html:"Applying voucher <b>"+t.name+"</b>?",type:"info",showCancelButton:!0,confirmButtonText:"Yes, Apply",cancelButtonText:"No",showCloseButton:!0,showLoaderOnConfirm:!0}).then(function(r){if(!r.value)return 0;console.log("Voucher clicked",t);try{e.$store.commit("cart/SET_VOUCHER",t)}catch(t){switch(e.$store.commit("cart/SET_VOUCHER"),t){case"NOT_ENOUGH_MIN":e.$swal.fire({type:"error",text:"Not enough cart value to apply this voucher",showConfirmButton:!1,showCloseButton:!0});break;case"NOT_ENOUGH_QTY":e.$swal.fire({type:"error",text:"Please select another item to apply this voucher",showConfirmButton:!1,showCloseButton:!0});break;case"INVALID_VOUCHER":e.$swal.fire({type:"error",text:"Invalid voucher, please contact this merchant",showConfirmButton:!1,showCloseButton:!0});break;default:throw t}return}e.$router.push({name:"cart"})})}}},Re={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("router-link",{attrs:{to:{name:"cart"}}},[r("b",[r("b",{staticClass:"ion-android-arrow-back mainColor"}),t._v(" Cart")])])],1)]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("h4",[t._v(t._s(t.merchant.name)+" / "+t._s(t.merchant.address))]),t._v(" "),r("h1",[t._v("Vouchers")]),t._v(" "),r("hr")])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[t.merchant.vouchers.length<=0?r("h4",[t._v("No active vouchers found")]):t._e(),t._v(" "),t.merchant.vouchers.length<=0?r("br"):t._e(),t._v(" "),t.merchant.vouchers.length<=0?r("br"):t._e(),t._v(" "),t.merchant.vouchers.length<=0?r("button",{staticClass:"btn btn-primary btn-lg btn-block",on:{click:function(e){return t.gotoCart()}}},[t._v("\n          Back to Cart\n        ")]):t._e(),t._v(" "),t.merchant.vouchers.length>0?r("div",t._l(t.merchant.vouchers,function(e,s){return r("div",{key:s,staticClass:"voucherCard",on:{click:function(r){return t.applyVoucher(e)}}},[r("h5",[r("b",[t._v(t._s(e.name))])]),t._v(" "),r("p",[r("small",[t._v("\n                Expired at: "+t._s(e.expiredAt)+"\n              ")])]),t._v("\n            "+t._s(e.description)+"\n          ")])}),0):t._e()])])])},staticRenderFns:[]};var Ne=r("VU/8")(Ue,Re,!1,function(t){r("aWcr")},"data-v-3bba4a1e",null).exports,Pe={name:"ItemCustomiseCategory",props:{customiser:{type:Object,required:!0},customiserCategory:{type:Object,required:!0}},data:function(){return{isSelected:!1}},computed:b()({},Object(w.b)(["tempItem"])),methods:{selectItemCustomiserItem:function(){var t="free";if(this.customiser.price>0&&(t="paid"),this.isSelected)return this.$ga.event("item_custom_view","customisation_"+t+"_removed",this.customiser.customiserCategoryName+"|"+this.customiser.name,1),this.$store.commit("cart/REMOVE_CUSTOM_FROM_TEMP_ITEM",this.customiser),console.log("Item removed"),void(this.isSelected=!this.isSelected);var e=this.customiser;e.customiserCategoryName=this.customiserCategory.name;for(var r=0,s=0;s<this.tempItem.customisationApplied.length;s++)this.tempItem.customisationApplied[s].customiserCategoryName===this.customiserCategory.name&&(r+=1);var o=this.customiserCategory.maxSelection;if(0==o&&(o=r+2),!(r<o))return this.$ga.event("item_custom_view","customisation_maxed",this.customiser.customiserCategoryName,1),void this.$swal.fire({type:"info",html:"Max of <strong>"+this.customiserCategory.name+"</strong> is "+String(o)+" items",showConfirmButton:!1,showCloseButton:!0});this.$store.commit("cart/ADD_CUSTOM_TO_TEMP_ITEM",e),this.$ga.event("item_custom_view","customisation_"+t+"_added",this.customiser.customiserCategoryName+"|"+this.customiser.name,1),this.isSelected=!this.isSelected}}},Me={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"row",on:{click:function(e){return t.selectItemCustomiserItem()}}},[r("div",{staticClass:"col-xs-8"},[r("h5",{class:{active:t.isSelected,mainColor:t.isSelected}},[t.isSelected?r("i",{staticClass:"ion-android-checkbox mainColor"}):t._e(),t.isSelected?t._e():r("i",{staticClass:"ion-android-checkbox-outline-blank mainColor"}),t._v("   "+t._s(t.customiser.name)+"\n      ")])]),t._v(" "),r("div",{staticClass:"col-xs-4 text-xs-right",class:{active:t.isSelected,mainColor:t.isSelected}},[r("h5",[0==t.customiser.price?r("small",{class:{active:t.isSelected}},[t._v("Free")]):t._e(),t._v(" "),t.customiser.price>0?r("small",{class:{active:t.isSelected}},[t._v("+"+t._s(t._f("currency")(t.customiser.price)))]):t._e()])])])])},staticRenderFns:[]};var Be=r("VU/8")(Pe,Me,!1,function(t){r("H7Ly")},"data-v-d22fb9f6",null).exports,De={name:"ItemCustomiseCategory",props:{customObject:{type:Object,required:!0}},data:function(){return{}},components:{ItemCustomiseItem:Be}},je={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h4",[r("span",{staticClass:"mainColor"},[t._v(t._s(t.customObject.name))]),t._v(" "),r("small",[t._v("\n      (\n        "),t.customObject.minSelection==t.customObject.maxSelection&&t.customObject.minSelection>=1?r("span",[r("b",[t._v("required")]),t._v(" "),r("small",[t._v(t._s(t.customObject.minSelection)+" "+t._s(t._f("pluralize")(t.customObject.maxSelection,"selection")))])]):r("span",[t.customObject.minSelection>=1?r("span",[r("b",[t._v("required")]),t._v(" "),r("small",[t._v("min. "+t._s(t.customObject.minSelection)+" "+t._s(t._f("pluralize")(t.customObject.minSelection,"selection")))])]):t._e(),t._v(" "),0==t.customObject.minSelection?r("span",[t._v(" optional ")]):t._e(),t._v(" "),t.customObject.maxSelection>=1?r("span",[r("small",[t._v("up to "+t._s(t.customObject.maxSelection)+" "+t._s(t._f("pluralize")(t.customObject.maxSelection,"selection")))])]):t._e()]),t._v("\n      )\n    ")])]),t._v(" "),r("div",t._l(t.customObject.items,function(e,s){return r("div",{key:s,staticClass:"modifierItem"},[r("ItemCustomiseItem",{attrs:{customiser:e,customiserCategory:t.customObject}}),t._v(" "),s!=t.customObject.items.length-1?r("hr"):t._e()],1)}),0)])},staticRenderFns:[]};var Le={name:"viewItemCustomise",data:function(){return{}},components:{ItemCustomiseCategory:r("VU/8")(De,je,!1,function(t){r("NZt+")},"data-v-cf111820",null).exports},computed:b()({},Object(w.b)(["merchant","currentCart","tempItem"]),{item:function(){var t=this;return this.merchant.menu.find(function(e){return e.menuList.find(function(e){return e.id===t.$route.params.itemId})}).menuList.find(function(e){return e.id===t.$route.params.itemId})}}),methods:{calcItemValue:function(){for(var t=this.tempItem.price,e=0;e<this.tempItem.customisationApplied.length;e++)t+=this.tempItem.customisationApplied[e].price;return t},addItem:function(){for(var t=this,e=0;e<this.item.customisation.length;e++){var r=this.item.customisation[e].minSelection,s=this.item.customisation[e].maxSelection,o=this.item.customisation[e].name,n=0;0==s&&(s=999);for(var a=0;a<this.tempItem.customisationApplied.length;a++)this.tempItem.customisationApplied[a].customiserCategoryName===o&&(n+=1);if(n<r)return this.$ga.event("item_view","customisation_required",o,1),void this.$swal.fire({type:"info",html:"At least "+String(r)+" <strong>"+o+"</strong> required",showConfirmButton:!1,showCloseButton:!0});if(n>s)return this.$ga.event("item_view","customisation_maxed",o,1),void this.$swal.fire({type:"info",html:"Max of "+o+"</strong> is <em>"+String(s)+" items</em>",showConfirmButton:!1,showCloseButton:!0})}this.$toasted.show("<b>"+this.item.name.toUpperCase()+" </b>&nbsp;added to your cart",{theme:"bubble",position:"bottom-center",duration:2e3,action:{text:"Cart",onClick:function(e,r){r.goAway(0),t.$router.push({name:"cart",params:{}})}}});this.$store.commit("cart/ADD_TO_CART"),this.$router.push({name:"merchant",params:{merchantId:this.merchant.friendlyId}})}},beforeRouteEnter:function(t,e,r){Bt.state.cart.currentCart.tempItem.hasOwnProperty("id")?r():(console.log("Checking tempItem","not found"),Ke.go(-1))}},Fe={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("br"),t._v(" "),t._m(0),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("router-link",{attrs:{to:{name:"merchant",params:{merchantId:this.merchant.friendlyId}}}},[r("b",[r("b",{staticClass:"ion-android-arrow-back mainColor"}),t._v(" "+t._s(t.merchant.name)+" / "+t._s(t.merchant.address))])])],1)]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-9"},[r("h1",[t._v(t._s(t.item.name))])]),t._v(" "),r("div",{staticClass:"col-xs-3 text-xs-right"},[r("h4",[r("b",{staticClass:"mainColor"},[t._v("SGD "+t._s(t._f("2decimal")(t.calcItemValue())))])])])]),t._v(" "),r("hr"),t._v(" "),r("br"),t._v(" "),t._l(t.item.customisation,function(e,s){return r("div",{key:s,staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("ItemCustomiseCategory",{attrs:{customObject:e}}),t._v(" "),s!=t.item.customisation.length-1?r("hr"):t._e(),t._v(" "),r("br")],1)])}),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("br"),t._v(" "),r("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.addItem}},[t._v("Submit")])])])],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"})])}]};var Ve=r("VU/8")(Le,Fe,!1,function(t){r("AxTL")},"data-v-cba56064",null).exports,He={name:"viewCart",data:function(){return{collectionMethod:"-1",collectionTime:"-1",tableNumber:"",promoCode:"",isPromoLoading:!1,validPromo:!1}},computed:b()({},Object(w.b)(["isAuthenticated","currentCart","merchant","calcSubTotalStore","calcDiscountStore","calcTaxStore","calcTotalStore"])),methods:{scrollToTop:function(){},gotoPromoPage:function(){this.$swal.fire({type:"info",text:"No promo found",showConfirmButton:!1,showCloseButton:!0})},addItem:function(){console.log("addItem clicked|"+this.currentCart.merchant.friendlyId+"|"),this.$ga.event("cart","items","add_item",!0),this.$router.push({name:"merchant",params:{merchantId:this.currentCart.merchant.friendlyId}})},removeItem:function(t){var e=this,r=this.currentCart.items[t];this.$ga.event("cart","items","remove_item","attempt"),this.$swal({title:"Are you sure?",html:"Removing <b>"+r.name+"</b> from your cart?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes Delete it!",cancelButtonText:"No, Keep it!",showCloseButton:!0,showLoaderOnConfirm:!0}).then(function(r){if(!r.value)return e.$ga.event("cart","items","remove_item",!1),0;e.$ga.event("cart","items","remove_item",!0),e.$store.commit("cart/REMOVE_FROM_CART",t)}),this.currentCart.items.length<=0&&(this.$ga.event("cart","items","remove_item","no_more_item"),this.$router.push({name:"merchant",params:{merchantId:this.currentCart.merchant.id}}))},removeVoucher:function(){var t=this;this.$ga.event("cart","voucher","remove_voucher","attempt"),this.$swal({title:"Are you sure?",html:"Removing voucher <b>"+this.currentCart.promotion.name+"</b>?",type:"warning",confirmButtonText:"Yes Delete it!",cancelButtonText:"No, Keep it!",showCloseButton:!0,showLoaderOnConfirm:!0}).then(function(e){if(!e.value)return t.$ga.event("cart","voucher","remove_voucher",!1),0;t.$ga.event("cart","voucher","remove_voucher",!0),t.$store.commit("cart/SET_VOUCHER",null)})},submitOrder:function(t){var e=this;if(!this.isAuthenticated)return this.$ga.event("cart","submit","no_login_attempt",!0),void this.$swal({title:"Login to place order",type:"warning",confirmButtonText:"Login",showLoaderOnConfirm:!0}).then(function(t){if(!t.value)return e.$ga.event("cart","submit","no_login_rejet",!0),0;e.$router.push({name:"login"})});if("CASH"!==t&&"STASH"!==t)return this.$ga.event("cart","setup","error","INVALID_PAYMENT_METHOD"),void this.$swal.fire({type:"warning",text:"Invalid payment method",showConfirmButton:!1,showCloseButton:!0}).then(function(t){e.scrollToTop()});if(0==this.currentCart.items.length)return this.$ga.event("cart","setup","error","NO_ITEM_IN_CART"),void this.$swal.fire({type:"warning",text:"No item selected",showConfirmButton:!1,showCloseButton:!0});if("eatIn"==this.currentCart.collection.method){if(this.currentCart.collection.tableNumber.length<1)return this.$ga.event("cart","setup","error","NO_TABLE_NUMBER"),void this.$swal.fire({type:"warning",text:"Please provide valid table number",showConfirmButton:!1,showCloseButton:!0}).then(function(t){e.scrollToTop()})}else{if("takeOut"!=this.currentCart.collection.method)return this.$ga.event("cart","setup","error","NO_COLLECTION_METHOD"),void this.$swal.fire({type:"warning",text:"Please select collection method",showConfirmButton:!1,showCloseButton:!0}).then(function(t){e.scrollToTop()});if(![0,5,10,15,30].includes(parseInt(this.currentCart.collection.timing)))return this.$ga.event("cart","setup","error","NO_PICK_UP_TIME"),void this.$swal.fire({type:"warning",text:"Please select pick-up time",showConfirmButton:!1,showCloseButton:!0}).then(function(t){e.scrollToTop()})}this.currentCart.collection.tableNumber.length>=1&&"-1"!==this.currentCart.collection.timing&&(this.$ga.event("cart","setup","error","NO_COLLECTION_METHOD_ERROR"),this.$swal.fire({type:"warning",text:"Please select dine-in or take-out",showConfirmButton:!1,showCloseButton:!0}).then(function(t){e.scrollToTop()}));var r={menu:[],promotion:{},itemCount:this.currentCart.items.length,subtotal:parseFloat(this.calcSubTotalStore).toFixed(2),discount:parseFloat(this.calcDiscountStore).toFixed(2),tax:parseFloat(this.calcTaxStore).toFixed(2),total:parseFloat(this.calcTotalStore).toFixed(2)};r.promotion={promoId:"",promoCode:"",promoName:""};for(var s=0;s<this.currentCart.items.length;s++){var o="",n=0;console.log("tmp",this.currentCart.items[s].customisationApplied);for(var a=0;a<this.currentCart.items[s].customisationApplied.length;a++)o=(o=(o=o+this.currentCart.items[s].customisationApplied[a].customiserCategoryName+"|")+this.currentCart.items[s].customisationApplied[a].name+"|")+this.currentCart.items[s].customisationApplied[a].price+"\n",n+=this.currentCart.items[s].customisationApplied[a].price;var i={uniqueId:0,menuId:this.currentCart.items[s].id,name:this.currentCart.items[s].name,qty:1,menuPrice:this.currentCart.items[s].price,variation:o,totalVariationPrice:n,totalPrice:this.currentCart.items[s].price+n};r.menu.push(i)}var c={merchant_id:this.currentCart.merchant.id,payment_type:t,table_no:this.currentCart.collection.tableNumber,delay_by:this.currentCart.collection.timing,amount:parseFloat(this.calcTotalStore).toFixed(2),oinfo:lt()(r)};console.log(c),this.$store.commit(T,{root:!0}),At.create(c).then(function(t){console.log("Order success",t.data.sales_id),e.$store.commit(T,{root:!0}),e.$store.commit(S,!1),e.$router.push({name:"orderDetails",params:{orderId:t.data.sales_id}})}).catch(function(t){if(e.$store.commit(T,{root:!0}),console.log("Order not created|",t.response.status,"|",t,"|",t.response),400==t.response.status)return 39==t.response.data.status?(e.$ga.event("cart","payment","balance_sufficiency",!1),void e.$swal({title:"Insufficient balance",html:"Please topup your wallet?",type:"error",confirmButtonText:"Topup now",showLoaderOnConfirm:!0}).then(function(t){if(!t.value)return e.$ga.event("cart","payment","top_up_question",!1),0;e.$router.push({name:"walletTopUp"})})):void e.$swal.fire({type:"error",text:"Please update your STASH, or contact hello@stash.asia",showConfirmButton:!1,showCloseButton:!0});e.$swal.fire({type:"error",text:"Unable to create order, please try again in a few minutes",showConfirmButton:!1,showCloseButton:!0})})}}},qe={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[t._m(0),t._v(" "),r("hr"),t._v(" "),t.currentCart.items.length>0?r("router-link",{attrs:{to:{name:"merchant",params:{merchantId:t.currentCart.merchant.friendlyId}}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-3"},[r("img",{staticClass:"img-fluid",attrs:{src:t.currentCart.merchant.image}})]),t._v(" "),r("div",{staticClass:"col-xs-9"},[r("h3",[r("b",[t._v(t._s(t.currentCart.merchant.name))])]),t._v(" "),r("h5",{staticClass:"blackColor"},[t._v(t._s(t.currentCart.merchant.address))])])])]):t._e(),t._v(" "),r("hr"),t._v(" "),t.currentCart.items.length>0?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-6"},[r("b",{staticClass:"mainColor"},[t._v("\n        Dine in / Take out\n      ")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model.lazy",value:t.currentCart.collection.method,expression:"currentCart.collection.method",modifiers:{lazy:!0}}],staticClass:"form-control highlightedForm",attrs:{required:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.currentCart.collection,"method",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"-1"}},[t._v("-- Select --")]),t._v(" "),1==t.merchant.availableCollectionMethod||2==t.merchant.availableCollectionMethod?r("option",{attrs:{value:"dineIn"}},[t._v("Dine in")]):t._e(),t._v(" "),0==t.merchant.availableCollectionMethod||2==t.merchant.availableCollectionMethod?r("option",{attrs:{value:"takeOut"}},[t._v("Take out")]):t._e()])]),t._v(" "),r("transition",{attrs:{name:"component-fade",mode:"out-in"}},["takeOut"==t.currentCart.collection.method?r("div",{staticClass:"col-xs-6"},[r("b",{staticClass:"mainColor"},[t._v("I am coming in ...")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model.lazy",value:t.currentCart.collection.timing,expression:"currentCart.collection.timing",modifiers:{lazy:!0}}],staticClass:"form-control highlightedSubForm",attrs:{required:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.currentCart.collection,"timing",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"-1"}},[t._v("-- X minutes --")]),t._v(" "),r("option",{attrs:{value:"0"}},[t._v("Now")]),t._v(" "),r("option",{attrs:{value:"5"}},[t._v("5 minutes")]),t._v(" "),r("option",{attrs:{value:"10"}},[t._v("10 minutes")]),t._v(" "),r("option",{attrs:{value:"15"}},[t._v("15 minutes")]),t._v(" "),r("option",{attrs:{value:"30"}},[t._v("30 minutes")])])]):t._e(),t._v(" "),"dineIn"==t.currentCart.collection.method?r("div",{staticClass:"col-xs-6"},[r("b",{staticClass:"mainColor"},[t._v("Table number")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCart.collection.tableNumber,expression:"currentCart.collection.tableNumber"}],staticClass:"form-control highlightedSubForm",attrs:{type:"text",placeholder:"#",required:""},domProps:{value:t.currentCart.collection.tableNumber},on:{input:function(e){e.target.composing||t.$set(t.currentCart.collection,"tableNumber",e.target.value)}}})]):t._e()])],1):t._e(),t._v(" "),t.currentCart.items.length>0?r("hr"):t._e(),t._v(" "),t.currentCart.items.length>0?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("h4",[t._v("Items")]),t._v(" "),r("table",{staticClass:"table table-sm"},[t._m(1),t._v(" "),t.currentCart.items.length>=1?r("tbody",[t._l(t.currentCart.items,function(e,s){return r("tr",{key:s,staticClass:"cartItem cellPadded"},[r("td",[r("b",{on:{click:function(e){return t.removeItem(s)}}},[r("i",{staticClass:"ion-android-cancel text-warning"})]),t._v("   "),r("b",[t._v(t._s(e.name))]),r("br"),t._v(" "),e.customisationApplied.length>0?r("span",[r("span",{staticClass:"itemCustomDetails"},[r("small",[r("small",[t._v("+ Base "+t._s(e.name)+" (SGD "+t._s(t._f("2decimal")(e.price))+")")])])]),r("br"),t._v(" "),t._l(e.customisationApplied,function(e,s){return r("span",{key:s,staticClass:"itemCustomDetails"},[r("small",[r("small",[t._v("\n                        + "+t._s(e.customiserCategoryName)+": "+t._s(e.name)+" ("),0==e.price?r("span",[t._v("Free")]):t._e(),e.price>0?r("span",[t._v(t._s(t._f("currency")(e.price)))]):t._e(),t._v(")\n                      ")])]),t._v(" "),r("br")])})],2):t._e()]),t._v(" "),r("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(e.cartValue.toString())))])])}),t._v(" "),r("tr",{staticClass:"cartItem cellPadded"},[r("td",{attrs:{colspan:"2"}},[t.currentCart.items.length>0?r("span",{staticClass:"mainColor",on:{click:function(e){return t.addItem()}}},[r("i",{staticClass:"ion-plus"}),t._v("   "),r("b",[t._v("Add new item")])]):t._e()])])],2):r("tbody",[t._m(2)]),t._v(" "),t.currentCart.items.length>=1?r("tfoot",[r("tr",{staticClass:"cellPadded"},[r("td",{staticClass:"text-xs-right"},[t._v("Subtotal ")]),t._v(" "),r("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(t.calcSubTotalStore)))])]),t._v(" "),r("tr",{staticClass:"cellPadded"},[r("td",{staticClass:"text-xs-right mainColor"},[t.currentCart.promotion?r("b",{on:{click:function(e){return t.removeVoucher()}}},[r("i",{staticClass:"ion-android-cancel text-warning"}),t._v("\n                      \n                ")]):t._e(),t._v(" "),r("b",[r("router-link",{attrs:{to:{name:"vouchers",params:{merchantId:this.merchant.friendlyId}}}},[t.currentCart.promotion?t._e():r("b",[t._v("Select promotions")]),t._v(" "),t.currentCart.promotion?r("span",[t._v("\n                      Voucher "+t._s(t.currentCart.promotion.name)+"\n                    ")]):t._e()])],1),t._v("\n                 \n                "),!t.currentCart.promotion&&t.currentCart.merchant.currentDiscount>0?r("span",{staticStyle:{color:"#777"}},[t._v("\n                  ( Default: "+t._s(parseFloat(t.currentCart.merchant.currentDiscount).toString())+"% )\n                ")]):t._e()]),t._v(" "),r("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(t.currentCart.discountValue)))])]),t._v(" "),parseFloat(t.currentCart.merchant.taxPercent)>0?r("tr",{staticClass:"cellPadded"},[r("td",{staticClass:"text-xs-right"},[t._v("Tax ( "+t._s(parseFloat(t.currentCart.merchant.taxPercent).toString())+"% ) ")]),t._v(" "),r("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(t.currentCart.taxValue)))])]):t._e(),t._v(" "),r("tr",{staticClass:"font-weight-bold cellPadded"},[r("td",{staticClass:"text-xs-right"},[t._v("Total ")]),t._v(" "),r("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(t.calcTotalStore)))])])]):t._e()])])]):t._e(),t._v(" "),t.currentCart.items.length>=1?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("input",{directives:[{name:"model",rawName:"v-model",value:this.currentCart.notes,expression:"this.currentCart.notes"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Notes to merchant"},domProps:{value:this.currentCart.notes},on:{input:function(e){e.target.composing||t.$set(this.currentCart,"notes",e.target.value)}}}),t._v(" "),r("br")])]):t._e(),t._v(" "),t.currentCart.items.length>=1?r("div",{staticClass:"row"},[t._m(3)]):t._e(),t._v(" "),t.currentCart.items.length>=1?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-5"},[r("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"btn btn-outline-primary btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.submitOrder("CASH")}}},[t._v("\n        CASH\n      ")])]),t._v(" "),r("div",{staticClass:"col-xs-7"},[r("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:function(e){return t.submitOrder("STASH")}}},[t._v("\n        STASH\n      ")])])]):t._e(),t._v(" "),t.currentCart.items.length<=0?r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 text-xs-center"},[r("br"),t._v(" "),r("router-link",{attrs:{to:{name:"home",params:{merchantId:t.merchant.friendlyId}}}},[r("h2",[t._v("Continue browsing")])])],1)]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",{attrs:{id:"checkOutBanner"}},[this._v("Checkout")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col-9"}},[this._v("Item")]),this._v(" "),e("th",{attrs:{scope:"col-3"}},[this._v("Total")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"2"}},[this._v("\n                No item selected\n              ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-xs-12 disclaimer"},[e("br"),this._v(" "),e("h5",[this._v("Pay with")])])}]};var Ge=r("VU/8")(He,qe,!1,function(t){r("Nc1w")},"data-v-daa8e336",null).exports,ze={name:"viewOrderDetails",data:function(){return{isReportOrder:!1,isCancelOrder:!1}},mounted:function(){W.a.all([this.$store.commit(T,{root:!0}),this.$store.dispatch("order/FETCH_ORDER_DETAILS",this.$route.params.orderId),this.$store.commit(T,{root:!0})])},computed:b()({},Object(w.b)(["hasOrder","currentOrderDetails","orderQR","orderIdSplit","currentUser"])),methods:{transType:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return"NONE";switch(parseInt(t)){case 1:return"STASH";case 2:return"CASH";default:return"NONE"}},openOrderQR:function(){console.log(this.currentOrderDetails),console.log(this.orderIdSplit),console.log(this.currentUser);var t="<h4><b>"+this.currentOrderDetails.merchant.name+"</b><br><i>"+this.currentOrderDetails.merchant.address+"</i></h4><img src='"+this.orderQR+"' /><h3><b>SGD "+String(this.calcTotal())+"</b> (<b>"+String(this.currentOrderDetails.items.length)+" items</b>)<br><br><small>STASH Q:</small> <b>"+this.currentOrderDetails.q_no+"</b></h3><h3><small><small><small>Code:</small> "+this.orderIdSplit[0]+"</small></small></h3><h3><b>"+this.currentUser.username+"</b></h3>";this.$swal.fire({title:'<h5><b style="color:#ffba00">Order Card</b></h5>',html:t,showConfirmButton:!1,showCloseButton:!0})},isReportOrderAvailable:function(){var t=new Date(this.currentOrderDetails.orderDateTime),e=new Date,r=Math.abs(e.getTime()-t.getTime()),s=Math.ceil(r/864e5);return console.log("order reporting feature",t,e,s),s<14},calcSubTotal:function(){for(var t=0,e=0;e<this.currentOrderDetails.items.length;e++)t+=this.currentOrderDetails.items[e].value;return parseFloat(t)},calcTotal:function(){return this.calcSubTotal()},cancelOrder:function(){if(!window.confirm("Do you want to cancel the order?"))return 0;alert("Cancelling your order"),this.isCancelOrder=!this.isCancelOrder},reportOrder:function(){alert("Reporting your order"),this.isReportOrder=!this.isReportOrder}}},We={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[t.hasOrder?t._e():r("div",[r("content-placeholders",[r("content-placeholders-heading",{attrs:{img:!0}}),t._v(" "),r("content-placeholders-text",{attrs:{lines:3}})],1)],1),t._v(" "),t.hasOrder?r("div",[t._m(0),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("router-link",{attrs:{to:{name:"merchant",params:{merchantId:t.currentOrderDetails.merchant.friendlyId}}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-3"},[r("img",{staticClass:"img-fluid",attrs:{src:t.currentOrderDetails.merchant.image}})]),t._v(" "),r("div",{staticClass:"col-xs-9"},[r("h3",[r("b",[t._v(t._s(t.currentOrderDetails.merchant.name))])]),t._v(" "),r("h5",[t._v(t._s(t.currentOrderDetails.merchant.address))])])])]),t._v(" "),r("br")],1)]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 text-xs-left"},[r("table",{staticClass:"table"},[r("tbody",[r("tr",[r("td",{staticStyle:{"text-align":"center"},attrs:{rowspan:"4"},on:{click:function(e){return t.openOrderQR()}}},[r("img",{staticClass:"img-fluid",attrs:{src:t.orderQR}}),t._v("\n            \n                Click to show card\n\n              ")]),t._v(" "),t._m(1),t._v(" "),r("td",[r("b",[t._v(t._s(t.orderIdSplit[0]))]),r("small",[t._v(" -"+t._s(t.orderIdSplit[1]))]),t._v(" via "),r("b",[t._v(t._s(this.transType(t.currentOrderDetails.trans_type)))])])]),t._v(" "),r("tr",[t._m(2),t._v(" "),r("td",[r("small",[t._v("Q- ")]),r("b",[t._v(t._s(parseInt(t.currentOrderDetails.q_no)))])])]),t._v(" "),r("tr",[t._m(3),t._v(" "),r("td",[t._v("\n                "+t._s(t._f("formatDate")(t.currentOrderDetails.orderDateTime))+"\n              ")])]),t._v(" "),r("tr",[t._m(4),t._v(" "),r("td",[t._v("\n                "+t._s(t.currentOrderDetails.latestStatus)+"\n              ")])])])])])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("table",{staticClass:"table"},[t._m(5),t._v(" "),r("tbody",t._l(t.currentOrderDetails.items,function(e,s){return r("tr",{key:s},[r("td",[r("b",[t._v(t._s(e.name))]),r("br"),t._v(" "),r("span",{domProps:{innerHTML:t._s(e.additional.replace(/(\||,)/g,"-").replace("N/A","").replace(/\n/g,"<br>"))}})]),t._v(" "),r("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(e.value)))])])}),0),t._v(" "),r("tfoot",[r("tr",[r("td",{staticClass:"text-xs-right"},[t._v("Subtotal")]),t._v(" "),r("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(t.calcSubTotal())))])]),t._v(" "),r("tr",[r("td",{staticClass:"text-xs-right"},[t._v(" Discount")]),t._v(" "),r("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s((parseFloat(t.currentOrderDetails.discount.value)*t.calcSubTotal()).toFixed(2)))])]),t._v(" "),r("tr",{staticClass:"font-weight-bold"},[r("td",{staticClass:"text-xs-right"},[t._v("Total")]),t._v(" "),r("td",{staticClass:"text-xs-right"},[t._v("SGD "+t._s(t._f("2decimal")(t.calcTotal())))])])])]),t._v(" "),r("br"),t._v(" "),r("br")])])]):t._e(),t._v(" "),t.isReportOrder&&t.hasOrder?r("div",[t._m(6)]):t._e(),t._v(" "),t.isCancelOrder&&t.hasOrder?r("div",[t._m(7)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("br"),this._v(" "),e("h1",[this._v("Order Details")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("b",[this._v("Ref#")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("b",[this._v("STASHQ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("b",[this._v("Date")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("b",[this._v("Status")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("Item")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Total")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 text-xs-center"},[e("h1",[this._v("Order Report")]),this._v(" "),e("hr")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 text-xs-center"},[e("br"),this._v(" "),e("h1",[this._v("Cancel Order")]),this._v(" "),e("hr")])])}]};var Qe=r("VU/8")(ze,We,!1,function(t){r("HyaE")},"data-v-3cb5116a",null).exports,Ye=this;s.default.use(H.a);var Xe=new H.a({routes:[{path:"/",redirect:"/home"},{name:"login",path:"/login",component:Lt},{name:"register",path:"/register",component:Ht},{name:"home",path:"/home",component:Wt},{name:"settings",path:"/settings",component:oe,meta:{}},{name:"profileUpdate",path:"/profile/update/info",component:Xt,meta:{requiresAuth:!0}},{name:"passwordUpdate",path:"/profile/update/password",component:Jt,meta:{requiresAuth:!0}},{name:"merchant",path:"/merchants/:merchantId",component:Ie,props:!0},{name:"vouchers",path:"/merchants/:merchantId/vouchers",component:Ne,props:!0},{name:"itemCustomisation",path:"/merchants/:merchantId/items/:itemId",component:Ve,props:!0},{name:"inbox",path:"/inbox",component:ge,meta:{requiresAuth:!0}},{name:"messageDetails",path:"/inbox/:messageId",component:we,meta:{requiresAuth:!0}},{name:"qrScanner",path:"/stash_scanner",component:Se},{name:"wallet",path:"/wallet",component:ue,meta:{requiresAuth:!0}},{name:"walletTopUp",path:"/wallet/topup",component:pe,meta:{requiresAuth:!0}},{name:"cart",path:"/cart",component:Ge,meta:{}},{name:"orderDetails",path:"/orders/:orderId",component:Qe,meta:{requiresAuth:!0}},{name:"forget_password",path:"/forget_password",component:ie},{name:"NotFound",path:"*",redirect:"/"}],scrollBehavior:function(t,e,r){return r||(t.hash?{selector:t.hash}:{x:0,y:0})}});Xe.beforeEach(function(t,e,r){var s=t.matched.some(function(t){return t.meta.requiresAuth}),o=["login","register","forget_password"].includes(t.name);Bt.commit(T,{root:!0});var n=Bt.dispatch("auth/CHECK_AUTH");Bt.commit(T,{root:!0}),s?n.then(function(t){!1===t&&r("login")}).catch(function(t){console.log("PURGE_AUTH1"),Bt.commit(y,{root:!0}),Ye.$swal.fire({type:"info",text:"You are logged out",showConfirmButton:!1,showCloseButton:!0}),console.log("router",t),r("login")}):o&&n.then(function(t){return 0==t?void r():void r("home")}).catch(function(t){console.log("PURGE_AUTH2"),Bt.commit(y,{root:!0}),Ye.$swal.fire({type:"info",text:"You are logged out",showConfirmButton:!1,showCloseButton:!0}),console.log("router",t),r("login")}),r()});var Ke=Xe,Ze=r("Eoz/"),Je=r.n(Ze),tr=r("PJh5"),er=r.n(tr);"serviceWorker"in navigator&&!0&&navigator.serviceWorker.register("/service-worker.js").then(function(){console.log("Service Worker Registered!")}),console.log("window.navigator.standalone",window.navigator.standalone),s.default.use(o,{load:{key:"AIzaSyC2z5pIwVsQXVhGZnOzzCIqFC7Rjzj0dMw",libraries:"places"}}),s.default.use(n.default);s.default.use(a.a,{confirmButtonColor:"#ffba00",cancelButtonColor:"#ff7674"}),i.a.color="rgba(255, 201, 51, 0.38)",i.a.zIndex=55,s.default.directive("ripple",i.a),s.default.component("VueElementLoading",l.a),s.default.use(m.a),s.default.use(h.a),s.default.use(f.a),s.default.use(g.default);s.default.use(p.a,{id:"UA-135031290-1",router:Ke,autoTracking:{exception:!0},debug:{enabled:!1,sendHitTask:!0},checkDuplicatedScript:!0}),s.default.config.productionTip=!1,rt.init(),s.default.filter("date",function(t){return Je()(new Date(t),"MMMM D, YYYY")}),s.default.filter("error",function(t){return""+t[0]}),s.default.filter("capitalize",function(t){return t?(t=t.toString()).charAt(0).toUpperCase()+t.slice(1):""}),s.default.filter("currency",function(t){return"SGD "+parseFloat(t).toFixed(2)}),s.default.filter("2decimal",function(t){return""+parseFloat(t).toFixed(2)}),s.default.filter("floor",function(t){return""+Math.floor(parseFloat(t))}),s.default.filter("newLiner",function(t){return""+t.replace(/\n/g,"<br>")}),s.default.filter("formatDate",function(t){if(t)return er()(String(t)).format("LLLL")}),s.default.filter("formatDateWallet",function(t){if(t)return er()(String(t)).format("dddd, MMMM D")}),new s.default({el:"#app",router:Ke,store:Bt,components:{App:V},template:"<App/>"})},"NZt+":function(t,e){},Nc1w:function(t,e){},QnNq:function(t,e){},RLYm:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("WEHx"),o=r("mCC8"),n=r("lcOp"),a={mixins:[s.mixin],directives:{Ripple:o.a,tooltip:n.VTooltip},data:function(){return{toggle:this.startOpened,pos:{},tooltipPosition:"left"}},props:{bgColor:{default:"#333333"},position:{default:"bottom-right"},positionType:{default:"fixed"},zIndex:{default:"999"},rippleShow:{default:!0},rippleColor:{default:"light"},mainIcon:{default:"add"},iconSize:{default:"medium"},mainTooltip:{default:null},fixedTooltip:{default:!1},tooltipTimeOutWhenStartOpened:{default:200},enableRotation:{default:!0},actions:{default:function(){return[]}},startOpened:{default:!1},toggleWhenAway:{default:!0}},computed:{actionIconSize:function(){switch(this.iconSize){case"small":return"md-18";case"medium":return"md-24";case"large":return"md-36";default:return"md-24"}},allowRotation:function(){return this.enableRotation&&this.actions&&this.actions.length},mainIconSize:function(){switch(this.iconSize){case"small":return"md-24";case"medium":return"md-36";case"large":return"md-48";default:return"md-36"}},paddingAmount:function(){switch(this.iconSize){case"small":return"28px";case"medium":return"32px";case"large":return"38px";default:return"32px"}},listPos:function(){return"top-right"===this.position||"top-left"===this.position?{top:"-20px",paddingTop:"20px"}:{bottom:"-20px",paddingBottom:"20px"}},transitionEnter:function(){return this.animation.enter},transitionLeave:function(){return this.animation.leave},animation:function(){return"top-right"===this.position||"top-left"===this.position?{enter:"animated quick fadeInDown",leave:"animated quick fadeOutUp"}:"bottom-right"===this.position||"bottom-left"===this.position?{enter:"animated quick fadeInUp",leave:"animated quick fadeOutDown"}:{enter:"animated fadeInUp",leave:"animated fadeOutDown"}},tooltipTrigger:function(){return this.fixedTooltip?"manual":"hover"}},methods:{tooltipPos:function(){"top-right"===this.position||"bottom-right"===this.position?this.tooltipPosition="left":this.tooltipPosition="right"},toParent:function(t){this.$emit(t),this.toggle=!1},away:function(){this.toggleWhenAway&&(this.toggle=!1)},setPosition:function(){switch(this.pos={},this.position){case"bottom-right":this.pos.right="5vw",this.pos.bottom="4vh";break;case"bottom-left":this.pos.left="5vw",this.pos.bottom="4vh";break;case"top-left":this.pos.left="5vw",this.pos.top="4vh";break;case"top-right":this.pos.right="5vw",this.pos.top="4vh";break;default:this.pos.right="5vw",this.pos.bottom="4vh"}},moveTransition:function(){var t=document.getElementById(this.position+"-wrapper"),e=document.getElementById(this.position+"-action");"top-right"===this.position||"top-left"===this.position?t.appendChild(e):t.insertBefore(e,t.childNodes[0])},showTooltip:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.toggle&&this.actions.length&&this.fixedTooltip&&setTimeout(function(){t.$refs.actions.forEach(function(e){t.toggle&&e._tooltip.show()})},e)},afterActionsTransitionEnter:function(){this.showTooltip()}},watch:{position:function(t){var e=this;this.setPosition(),this.$nextTick(function(){e.moveTransition(),e.tooltipPos()})}},mounted:function(){this.moveTransition()},created:function(){this.setPosition(),this.startOpened&&this.showTooltip(this.tooltipTimeOutWhenStartOpened)}},i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.away,expression:"away"}],staticClass:"fab-wrapper",style:[t.pos,{zIndex:t.zIndex},{position:t.positionType}],attrs:{id:t.position+"-wrapper"}},[r("div",{staticClass:"actions-container",style:t.listPos,attrs:{id:t.position+"-action"}},[r("transition",{attrs:{name:"fab-actions-appear","enter-active-class":t.transitionEnter,"leave-active-class":t.transitionLeave}},[r("ul",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}],staticClass:"fab-list"},[t._l(t.actions,function(e){return[r("transition",{attrs:{"enter-active-class":"animated quick zoomIn","leave-active-class":"animated quick zoomOut"},on:{"after-enter":t.afterActionsTransitionEnter}},[e.tooltip?[t.toggle?r("li",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.tooltip,placement:t.tooltipPosition,classes:"fab-tooltip",trigger:t.tooltipTrigger},expression:"{ content: action.tooltip, placement: tooltipPosition, classes: 'fab-tooltip', trigger: tooltipTrigger}"}],ref:"actions",refInFor:!0,staticClass:"pointer",style:{"background-color":e.color||t.bgColor},on:{click:function(r){return t.toParent(e.name)}}},[r("i",{class:[t.actionIconSize,"material-icons"]},[t._v(t._s(e.icon))])]):t._e()]:[t.toggle?r("li",{staticClass:"pointer",style:{"background-color":e.color||t.bgColor},on:{click:function(r){return t.toParent(e.name)}}},[r("i",{class:[t.actionIconSize,"material-icons"]},[t._v(t._s(e.icon))])]):t._e()]],2)]})],2)])],1),t._v(" "),t.rippleShow?[t.mainTooltip?[r("div",{directives:[{name:"ripple",rawName:"v-ripple",value:"light"==t.rippleColor?"rgba(255, 255, 255, 0.35)":"",expression:"rippleColor == 'light' ? 'rgba(255, 255, 255, 0.35)' : ''"},{name:"tooltip",rawName:"v-tooltip",value:{content:t.mainTooltip,placement:t.tooltipPosition,classes:"fab-tooltip"},expression:"{ content: mainTooltip, placement: tooltipPosition, classes: 'fab-tooltip' }"}],staticClass:"fab-main pointer",style:{"background-color":t.bgColor,padding:t.paddingAmount},on:{click:function(e){t.toggle=!t.toggle}}},[r("i",{class:[t.mainIconSize,{rotate:t.toggle&&t.allowRotation},"material-icons main"]},[t._v(t._s(t.mainIcon))]),t._v(" "),r("i",{class:[t.mainIconSize,{rotate:t.toggle&&t.allowRotation},"material-icons close"]},[t._v("add")])])]:[r("div",{directives:[{name:"ripple",rawName:"v-ripple",value:"light"==t.rippleColor?"rgba(255, 255, 255, 0.35)":"",expression:"rippleColor == 'light' ? 'rgba(255, 255, 255, 0.35)' : ''"}],staticClass:"fab-main pointer",style:{"background-color":t.bgColor,padding:t.paddingAmount},on:{click:function(e){t.toggle=!t.toggle}}},[r("i",{class:[t.mainIconSize,{rotate:t.toggle&&t.allowRotation},"material-icons main"]},[t._v(t._s(t.mainIcon))]),t._v(" "),r("i",{class:[t.mainIconSize,{rotate:t.toggle&&t.allowRotation},"material-icons close"]},[t._v("add")])])]]:[t.mainTooltip?[r("div",{staticClass:"fab-main pointer",style:{"background-color":t.bgColor,padding:t.paddingAmount},attrs:{"v-tooltip":{content:t.mainTooltip,placement:t.tooltipPosition,classes:"fab-tooltip"}}},[r("i",{staticClass:"material-icons md-36 main",class:{rotate:t.toggle&&t.allowRotation}},[t._v(t._s(t.mainIcon))]),t._v(" "),r("i",{staticClass:"material-icons md-36 close",class:{rotate:t.toggle&&t.allowRotation}},[t._v("add")])])]:[r("div",{staticClass:"fab-main pointer",style:{"background-color":t.bgColor,padding:t.paddingAmount}},[r("i",{staticClass:"material-icons md-36 main",class:{rotate:t.toggle&&t.allowRotation}},[t._v(t._s(t.mainIcon))]),t._v(" "),r("i",{staticClass:"material-icons md-36 close",class:{rotate:t.toggle&&t.allowRotation}},[t._v("add")])])]]],2)},staticRenderFns:[]};var c=r("VU/8")(a,i,!1,function(t){r("/QwG"),r("XtVm")},"data-v-f9cfe6e4",null);e.default=c.exports},T5eZ:function(t,e,r){"use strict";var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("span",{domProps:{textContent:this._s(this.label)}}),this._v(" "),e("input",{ref:"input",class:this.className,attrs:{type:"text",placeholder:this.placeholder}})])},staticRenderFns:[]};e.a=s},UdIB:function(t,e){},XtVm:function(t,e){},YI6p:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("jIen"),o=r.n(s);for(var n in s)"default"!==n&&function(t){r.d(e,t,function(){return s[t]})}(n);var a=r("T5eZ"),i=r("VU/8")(o.a,a.a,!1,null,null,null);e.default=i.exports},Zg5R:function(t,e){},aWcr:function(t,e){},ag9s:function(t,e){},dtWn:function(t,e){},gvPu:function(t,e){},mUoS:function(t,e){},pgQO:function(t,e){},preG:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,o=(s=r("hQTS")).default||s,n={render:function(){var t=this.$createElement;return(this._self._c||t)("input",this._g(this._b({ref:"input"},"input",this.$attrs,!1),this.$listeners))},staticRenderFns:[]},a=r("VU/8")(o,n,!1,null,null,null);e.default=a.exports},qZRe:function(t,e){},r1po:function(t,e){},"sZ/t":function(t,e){},uslO:function(t,e,r){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function o(t){return r(n(t))}function n(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}o.keys=function(){return Object.keys(s)},o.resolve=n,t.exports=o,o.id="uslO"},xgAl:function(t,e){},yzve:function(t,e){},zGgx:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.63aea6f9394dc0bea00f.js.map